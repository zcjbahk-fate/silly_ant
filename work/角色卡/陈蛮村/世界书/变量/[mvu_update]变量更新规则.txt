---
<变量更新规则>
变量更新规则:
  系统:
    距离除夕还剩天数:
      type: number
      range: 0~7
      check:
        - 随着剧情内时间的流逝更新，过完一天就 -1
        - 当降为 0 时代表除夕夜到来，即杀年猪仪式开始的时间
        - 更新方式delta
  主角:
    性器状态.肉棒:
      当前长度:
        type: number
        check:
          - 随着勃起状态的变化而增加或减少
          - 更新方式delta
      状态:
        check:
          - 根据主角在剧情中受到的视觉、听觉或触觉的性刺激程度更新（如：未勃起 / 半勃起 / 完全勃起 / 射精后疲软）
      描述:
        check:
          - 配合状态更新，描述肉棒当前的充血程度、包皮位置、前列腺液分泌情况等
    性经历:
      type: |-
        {
          [女性角色名: string]: {
            口交: number;
            足交: number;
            插入: number;
            肛交: number;
            手交: number;
          }
        }
      check:
        - 当主角与对应的女性角色发生上述类型的性行为并结束后，对应的数值 +1
  角色.${角色名}:
    ${好感度|堕落度|性欲值}:
      type: number
      range: 0~100
      check:
        - 好感度：根据主角对该角色的态度、帮助或互动调整 ±(2~5)
        - 堕落度：当角色目睹或参与违背伦理的行为、放弃底线、或是屈从于肉欲和暴力时增加 +(3~10)
        - 性欲值：受到男性的肢体接触、粗俗语言刺激、目睹他人交配或是处于发情/禁欲反弹状态时增加 +(10~20)；高潮后大幅度下降
        - 更新方式delta
    NTR关系.出轨记录:
      type: |-
        {
          [黄毛名字: string]: {
            NTR: number; // 范围 0~100
          }
        }
      check:
        - 当角色与非苦主（即黄毛，例如村里的糙汉、村长等）发生暧昧、肉体摩擦、被强制侵犯或主动迎合交配时，对应黄毛的NTR值增加 +(5~15)
        - 更新方式delta
    当前姿势:
      check:
        - 每次角色的动作、站位或体位发生改变时实时更新
        - 需包含对肢体细节的描述（如：双腿夹紧 / 跪在地上撅起臀部 / 被绑在柱子上）
    体内精液:
      type: |-
        {
          [来源人名: string]: {
            量: number;
            状态: string;
          }
        }
      check:
        - 当有男性（如主角、陈琛宝等）在角色的体内（阴道、肠道、口腔）射精时，增加对应来源的量
        - 状态需根据时间推移更新（如：刚射入滚烫 / 填满子宫 / 顺着大腿根缓慢滴落）
        - 更新方式delta
    上次做爱:
      type: |-
        {
          时间: string;
          对象: string;
          地点: string;
          方式: string;
        }
      check:
        - 在角色完成一次完整的性行为后更新记录
    性经历:
      type: |-
        {
          [对象名: string]: {
            口交: number;
            足交: number;
            插入: number;
            肛交: number;
            手交: number;
          }
        }
      check:
        - 当角色与对应的对象发生上述类型的性行为并结束后，对应的数值 +1
        - 更新方式delta
    内心想法:
      check:
        - 根据当前场景的刺激、对话或自身处境实时更新
        - 重点体现角色的表里不一，例如表面的抗拒与内心的渴望，或者对局势的真实判断
    对主角看法:
      check:
        - 随着主角在村中的表现、能力展示或对该角色的行为发生改变时更新
    是否知晓村中习俗:
      type: '已知' | '未知'
      check:
        - 初始为“未知”
        - 当角色通过村民的谈话、目睹恐怖场景或被强行告知“年猪”、“年货”的真实含义（即将人作为食材和祭品）时，更新为“已知”
</变量更新规则>
