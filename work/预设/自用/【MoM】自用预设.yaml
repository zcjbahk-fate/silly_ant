# yaml-language-server: $schema=https://testingcf.jsdelivr.net/gh/StageDog/tavern_sync/dist/schema/preset.zh.json
è®¾ç½®:
  ä¸Šä¸‹æ–‡é•¿åº¦: 2000000
  æœ€å¤§å›å¤tokenæ•°: 26500
  æµå¼ä¼ è¾“: false
  æ¸©åº¦: 1.2
  é¢‘ç‡æƒ©ç½š: 0
  å­˜åœ¨æƒ©ç½š: 0
  top_p: 0.9
  top_k: 95
  å‹ç¼©ç³»ç»Ÿæ¶ˆæ¯: false
  æ¨ç†å¼ºåº¦: æœ€å°
  è¯·æ±‚æ€ç»´é“¾: true
  è¯·æ±‚å›¾ç‰‡: false
  å¯ç”¨å‡½æ•°è°ƒç”¨: false
  å¯ç”¨ç½‘ç»œæœç´¢: false
  å…è®¸å‘é€å›¾ç‰‡: ç¦ç”¨
  å…è®¸å‘é€è§†é¢‘: false
  è§’è‰²åç§°å‰ç¼€: é»˜è®¤

é”šç‚¹: {}

æç¤ºè¯:
  - åç§°: ğŸŒŸğŸ“Œåˆå§‹åŒ–å˜é‡
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸŒŸğŸ“Œåˆå§‹åŒ–å˜é‡

  - åç§°: ğŸŒŸğŸ“Œç³»ç»Ÿè½½å…¥
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸŒŸğŸ“Œç³»ç»Ÿè½½å…¥

  - åç§°: ğŸ‘¨â€ğŸŒ¾ç»‡æ¢¦è€…ä¸Šçº¿ğŸ‘¨â€ğŸŒ¾
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: AI
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‘¨â€ğŸŒ¾ç»‡æ¢¦è€…ä¸Šçº¿ğŸ‘¨â€ğŸŒ¾

  - åç§°: â€”â¬‡ï¸åŸºæœ¬ä¿¡æ¯â¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸åŸºæœ¬ä¿¡æ¯â¬‡ï¸â€”

  - åç§°: ğŸ’¤â¬‡ï¸userèº«ä»½
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬‡ï¸userèº«ä»½

  - id: ç©å®¶æè¿°
    å¯ç”¨: true

  - åç§°: ğŸ’¤â¬†ï¸userèº«ä»½
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬†ï¸userèº«ä»½

  - åç§°: ğŸ’¤â¬‡ï¸useræ¢¦å¢ƒ
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬‡ï¸useræ¢¦å¢ƒ

  - id: è§’è‰²å®šä¹‰ä¹‹å‰
    å¯ç”¨: true

  - åç§°: ğŸ’¤â¬‡ï¸char
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬‡ï¸char

  - id: è§’è‰²æè¿°
    å¯ç”¨: true

  - id: è§’è‰²æ€§æ ¼
    å¯ç”¨: true

  - åç§°: ğŸ’¤â¬†ï¸char
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬†ï¸char

  - id: æƒ…æ™¯
    å¯ç”¨: true

  - id: è§’è‰²å®šä¹‰ä¹‹å
    å¯ç”¨: true

  - åç§°: ğŸ’¤â¬‡ï¸èŠå¤©è®°å½•
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬‡ï¸èŠå¤©è®°å½•

  - id: èŠå¤©è®°å½•
    å¯ç”¨: true

  - åç§°: ğŸ’¤â¬†ï¸èŠå¤©è®°å½•
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬†ï¸èŠå¤©è®°å½•

  - åç§°: ğŸ’¤â¬†ï¸useræ¢¦å¢ƒ
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ’¤â¬†ï¸useræ¢¦å¢ƒ

  - åç§°: â€”â¬†ï¸åŸºæœ¬ä¿¡æ¯â¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸åŸºæœ¬ä¿¡æ¯â¬†ï¸â€”

  - åç§°: ğŸ‘¨â€ğŸŒ¾æ¢¦å¢ƒç¡®è®¤ğŸ‘¨â€ğŸŒ¾
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: AI
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‘¨â€ğŸŒ¾æ¢¦å¢ƒç¡®è®¤ğŸ‘¨â€ğŸŒ¾

  - åç§°: â€”â¬‡ï¸å‰§æƒ…æŒ‡å¯¼â¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸å‰§æƒ…æŒ‡å¯¼â¬‡ï¸â€”

  - åç§°: ğŸ‰â¬‡ï¸SFW
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰â¬‡ï¸SFW

  - åç§°: ğŸ‰ğŸŸ¡æ…¢é€Ÿæ¨è¿›
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸŸ¡æ…¢é€Ÿæ¨è¿›

  - åç§°: ğŸ‰ğŸ“Œæ¨æ•…äº‹
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸ“Œæ¨æ•…äº‹

  - åç§°: ğŸ‰â¬†ï¸SFW
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰â¬†ï¸SFW

  - åç§°: ğŸ‰â¬‡ï¸NSFW
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰â¬‡ï¸NSFW

  - åç§°: ğŸ‰ğŸŸ¡ç²—ä¿—ç‘Ÿç‘Ÿ
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸŸ¡ç²—ä¿—ç‘Ÿç‘Ÿ

  - åç§°: ğŸ‰ğŸ”µå°„ç²¾æå†™@æŸ‘æ©˜
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸ”µå°„ç²¾æå†™@æŸ‘æ©˜

  - åç§°: ğŸ‰ğŸ”µBGç²—ä¿—@æ‘å¦¹å„¿@yuki
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸ”µBGç²—ä¿—@æ‘å¦¹å„¿@yuki

  - åç§°: ğŸ‰ğŸ”µç‘Ÿç‘Ÿå†å¼€ï¼
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸ”µç‘Ÿç‘Ÿå†å¼€ï¼

  - åç§°: ğŸ‰ğŸ“Œè·å–å˜é‡
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰ğŸ“Œè·å–å˜é‡

  - åç§°: ğŸ‰â¬†ï¸NSFW
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‰â¬†ï¸NSFW

  - åç§°: â€”â¬†ï¸å‰§æƒ…æŒ‡å¯¼â¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸å‰§æƒ…æŒ‡å¯¼â¬†ï¸â€”

  - åç§°: â€”â¬‡ï¸è§’è‰²å¡‘é€ â¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸è§’è‰²å¡‘é€ â¬‡ï¸â€”

  - åç§°: âœ¨ğŸ”µæ— äººä¸‡èƒ½
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âœ¨ğŸ”µæ— äººä¸‡èƒ½

  - åç§°: âœ¨ğŸ”µåç¥åŒ–
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âœ¨ğŸ”µåç¥åŒ–

  - åç§°: âœ¨ğŸ”µè§’è‰²è¿·é›¾
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âœ¨ğŸ”µè§’è‰²è¿·é›¾

  - åç§°: âœ¨ğŸ”µå®ˆè´
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âœ¨ğŸ”µå®ˆè´

  - åç§°: âœ¨ğŸ”µè§’è‰²å˜é‡
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âœ¨ğŸ”µè§’è‰²å˜é‡

  - åç§°: âœ¨ğŸ“Œè·å–å˜é‡
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âœ¨ğŸ“Œè·å–å˜é‡

  - åç§°: â€”â¬†ï¸è§’è‰²å¡‘é€ â¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸è§’è‰²å¡‘é€ â¬†ï¸â€”

  - åç§°: â€”â¬‡ï¸æ–‡é£â¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸æ–‡é£â¬‡ï¸â€”

  - åç§°: âŒ¨ï¸â¬‡ï¸å¯¹è¯ç¤ºä¾‹
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸â¬‡ï¸å¯¹è¯ç¤ºä¾‹

  - id: å¯¹è¯ç¤ºä¾‹
    å¯ç”¨: true

  - åç§°: âŒ¨ï¸â¬†ï¸å¯¹è¯ç¤ºä¾‹
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸â¬†ï¸å¯¹è¯ç¤ºä¾‹

  - åç§°: âŒ¨ï¸â¬‡ï¸æ–‡é£æ”¾ç½®
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸â¬‡ï¸æ–‡é£æ”¾ç½®

  - åç§°: âŒ¨ï¸ğŸŸ¡ç°å®æ–‡é£-byå°ç™½ç‹— 0925
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸ğŸŸ¡ç°å®æ–‡é£-byå°ç™½ç‹—_0925

  - åç§°: âŒ¨ï¸ğŸŸ¡ç½‘æ–‡æ–‡é£
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸ğŸŸ¡ç½‘æ–‡æ–‡é£

  - åç§°: âŒ¨ï¸â¬†ï¸æ–‡é£æ”¾ç½®
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸â¬†ï¸æ–‡é£æ”¾ç½®

  - åç§°: âŒ¨ï¸ğŸ”µåç‰©åŒ–è¡¥ä¸
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸ğŸ”µåç‰©åŒ–è¡¥ä¸

  - åç§°: âŒ¨ï¸ğŸ“Œè·å–å˜é‡
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âŒ¨ï¸ğŸ“Œè·å–å˜é‡

  - åç§°: â€”â¬†ï¸æ–‡é£â¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸æ–‡é£â¬†ï¸â€”

  - åç§°: â€”â¬‡ï¸å°å‰§åœºâ¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸å°å‰§åœºâ¬‡ï¸â€”

  - åç§°: ğŸ”¦ğŸŸ¡å°å›å°å‰§åœº@å°å›
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ”¦ğŸŸ¡å°å›å°å‰§åœº@å°å›

  - åç§°: ğŸ”¦ğŸŸ¡å®Œå…¨éšæœºå°å‰§åœº
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: èŠå¤©ä¸­
      æ·±åº¦: 3
      é¡ºåº: 998
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ”¦ğŸŸ¡å®Œå…¨éšæœºå°å‰§åœº

  - åç§°: â€”â¬†ï¸å°å‰§åœºâ¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸å°å‰§åœºâ¬†ï¸â€”

  - åç§°: â€”â¬‡ï¸åŠŸèƒ½åŒºâ¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸åŠŸèƒ½åŒºâ¬‡ï¸â€”

  - åç§°: âš™ï¸ğŸ”´è¾“å‡ºï¼šæ¨å‰§æƒ…
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”´è¾“å‡ºï¼šæ¨å‰§æƒ…

  - åç§°: âš™ï¸ğŸ”´è¾“å‡ºï¼šé˜²æŠ¢è¯ by yuki
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”´è¾“å‡ºï¼šé˜²æŠ¢è¯_by_yuki

  - åç§°: âš™ï¸ğŸ”´äººç§°ï¼šç¬¬ä¸‰äººç§°
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”´äººç§°ï¼šç¬¬ä¸‰äººç§°

  - åç§°: âš™ï¸ğŸ”µåœºå¤–ä¸–ç•Œ
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”µåœºå¤–ä¸–ç•Œ

  - åç§°: âš™ï¸ğŸ”´è¯­è¨€è®¾ç½®
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”´è¯­è¨€è®¾ç½®

  - åç§°: âš™ï¸ğŸ”´æ­£æ–‡å­—æ•°
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”´æ­£æ–‡å­—æ•°

  - åç§°: âš™ï¸ğŸ”µè§’è‰²å†…å¿ƒ@Attix
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”µè§’è‰²å†…å¿ƒ@Attix

  - åç§°: âš™ï¸ğŸ”µé¡¶éƒ¨çŠ¶æ€æ 
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”µé¡¶éƒ¨çŠ¶æ€æ 

  - åç§°: âš™ï¸ğŸ”µåº•éƒ¨çŠ¶æ€æ 
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”µåº•éƒ¨çŠ¶æ€æ 

  - åç§°: âš™ï¸ğŸ”µå˜é‡æ›´æ–°
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”µå˜é‡æ›´æ–°

  - åç§°: âš™ï¸ğŸ”µå°å‰§åœºä¸€é”®å¼€å…³
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: èŠå¤©ä¸­
      æ·±åº¦: 3
      é¡ºåº: 980
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ”µå°å‰§åœºä¸€é”®å¼€å…³

  - åç§°: âš™ï¸ğŸ“Œæ‘˜è¦ï¼ˆå¿…å¼€ï¼‰@å–µå–µç”µæ³¢
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: èŠå¤©ä¸­
      æ·±åº¦: 0
      é¡ºåº: 999
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ“Œæ‘˜è¦ï¼ˆå¿…å¼€ï¼‰@å–µå–µç”µæ³¢

  - åç§°: âš™ï¸ğŸŸ¡å–µå–µé€‰æ‹©å™¨-æ—¥å¸¸ï¼ˆå¿…é¡»å¼€é€‰é¡¹æ­£åˆ™ï¼‰
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: èŠå¤©ä¸­
      æ·±åº¦: 0
      é¡ºåº: 999
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸŸ¡å–µå–µé€‰æ‹©å™¨-æ—¥å¸¸ï¼ˆå¿…é¡»å¼€é€‰é¡¹æ­£åˆ™ï¼‰

  - åç§°: âš™ï¸ğŸ“Œè·å–å˜é‡
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: èŠå¤©ä¸­
      æ·±åº¦: 0
      é¡ºåº: 999
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ“Œè·å–å˜é‡

  - åç§°: âš™ï¸ğŸ“Œæ ¼å¼å¼ºè°ƒ@yuki
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: èŠå¤©ä¸­
      æ·±åº¦: 0
      é¡ºåº: 100
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ“Œæ ¼å¼å¼ºè°ƒ@yuki

  - åç§°: âš™ï¸ğŸ“ŒRULE
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\âš™ï¸ğŸ“ŒRULE

  - åç§°: â€”â¬†ï¸åŠŸèƒ½åŒºâ¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸åŠŸèƒ½åŒºâ¬†ï¸â€”

  - åç§°: ğŸ‘¨â€ğŸŒ¾æ¥æ”¶è¾“å…¥ğŸ‘¨â€ğŸŒ¾
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: AI
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ‘¨â€ğŸŒ¾æ¥æ”¶è¾“å…¥ğŸ‘¨â€ğŸŒ¾

  - åç§°: â€”â¬‡ï¸COTâ¬‡ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬‡ï¸COTâ¬‡ï¸â€”

  - åç§°: ğŸ§ ğŸ“Œç¡®è®¤userè¾“å…¥
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ§ ğŸ“Œç¡®è®¤userè¾“å…¥

  - åç§°: ğŸ§ ğŸ“Œå¸¸è§„COT
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ§ ğŸ“Œå¸¸è§„COT

  - åç§°: ğŸ§ ğŸ“Œç¦å¿Œå¥³ç‹
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ§ ğŸ“Œç¦å¿Œå¥³ç‹

  - åç§°: ğŸ§ ğŸ“ŒCOTæ¥æ”¶
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸ§ ğŸ“ŒCOTæ¥æ”¶

  - åç§°: â€”â¬†ï¸COTâ¬†ï¸â€”
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\â€”â¬†ï¸COTâ¬†ï¸â€”

  - åç§°: ğŸŒŸğŸ“Œï¼ˆå¿…å¼€ï¼‰å°¾@YUKI å¡æ‰åŸç”Ÿcot
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: AI
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\ğŸŒŸğŸ“Œï¼ˆå¿…å¼€ï¼‰å°¾@YUKI_å¡æ‰åŸç”Ÿcot

æœªæ·»åŠ çš„æç¤ºè¯:
  - åç§°: ğŸ“ŒğŸ’¤å†å²æ•…äº‹ç»“æŸ
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\æœªä½¿ç”¨\ğŸ“ŒğŸ’¤å†å²æ•…äº‹ç»“æŸ

  - åç§°: ğŸ‰ğŸŸ¡å¿«é€Ÿæ¨è¿›
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\æœªä½¿ç”¨\ğŸ‰ğŸŸ¡å¿«é€Ÿæ¨è¿›

  - åç§°: ğŸ‰ğŸŸ¡æ¸©æŸ”ç‘Ÿç‘Ÿ
    å¯ç”¨: true
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\æœªä½¿ç”¨\ğŸ‰ğŸŸ¡æ¸©æŸ”ç‘Ÿç‘Ÿ

  - åç§°: âŒ¨ï¸ğŸ”µå®˜èƒ½å‡è§†è¡¥ä¸
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\æœªä½¿ç”¨\âŒ¨ï¸ğŸ”µå®˜èƒ½å‡è§†è¡¥ä¸

  - åç§°: âš ï¸åæˆªæ–­éœ€è¦å†å¼€@çœ é›¨
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\æœªä½¿ç”¨\âš ï¸åæˆªæ–­éœ€è¦å†å¼€@çœ é›¨

  - åç§°: âš ï¸éœ€è¦å†å¼€-æ¢¦å‘“åå®š å‡å°‘ç©ºå›
    å¯ç”¨: false
    æ’å…¥ä½ç½®:
      ç±»å‹: ç›¸å¯¹
    è§’è‰²: ç³»ç»Ÿ
    æ–‡ä»¶: ã€MoMã€‘è‡ªç”¨é¢„è®¾\æœªä½¿ç”¨\âš ï¸éœ€è¦å†å¼€-æ¢¦å‘“åå®š_å‡å°‘ç©ºå›

æ‰©å±•å­—æ®µ:
  regex_scripts:
    - id: a00e62e5-0565-475c-84ef-8473e7fd0ee6
      script_name: MoMå¿…é€‰-[1]æ¸…é™¤å¤šä½™å†…å®¹(0927)
      å¯ç”¨: true
      find_regex: /^[\s\S]*\[finire\]\s?|\s?<finish>[\s\S]*</finish>|\s?<disclaimer>[\s\S]*</disclaimer>|\s?<!--[\s\S]*?-->|(?<=<p
        style)-/gi
      replace_string: ""
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: true
      run_on_edit: true
      min_depth: null
      max_depth: null
    - id: 96fb3e6b-e086-417d-9eae-6f7212026dd9
      script_name: MoMå¿…é€‰-[2]5æ¥¼å¤–åªå‘é€æ‘˜è¦å’Œè§’è‰²è¡¨(0927)
      å¯ç”¨: true
      find_regex: /^[\s\S]*(<meow_FM>[\s\S]*$)/i
      replace_string: $1
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: false
        prompt: true
      run_on_edit: true
      min_depth: 5
      max_depth: null
    - id: b07beaae-d834-44a2-a10b-077b96e45971
      script_name: MoMå¿…é€‰-[3]3æ¥¼å¤–ä¼ç¬”ä¸å‘é€ç»™AI(0927)
      å¯ç”¨: true
      find_regex: /(?<=<meow_FM>[\s\S]*?)seeds[:ï¼š][\s\S]*?(?=</meow_FM)/i
      replace_string: ""
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: false
        prompt: true
      run_on_edit: true
      min_depth: 3
      max_depth: null
    - id: 293a82cb-f530-4b62-aa5b-bb7aa87c5e9b
      script_name: MoMå¿…é€‰-[4]ä¸å‘é€å°å‰§åœºã€åºè¨€ã€é€‰é¡¹ç»™AI(1124)
      å¯ç”¨: true
      find_regex: /^.+</thinking>|<prologue>.+?</[^>]*>|\s<branches>.+$|\s<snow>.+$/gis
      replace_string: ""
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: false
        prompt: true
      run_on_edit: true
      min_depth: null
      max_depth: null
    - id: 10dc84f2-ce90-4008-979a-796e9d598dcf
      script_name: MoMå¯é€‰-[5]å°å‰§åœºä¿®å¤ï¼ˆ1012ï¼‰@ç”µæ³¢ç³»@yuki
      å¯ç”¨: true
      find_regex: (?<=<snow>[\s\S]*?body\s*{[^}]*?)height:\s*\d+(?:vh)?%?(?=[\s\S]*?})
      replace_string: "height: auto"
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: null
    - id: c1d3694b-01c5-493c-81ee-22b07e9f5560
      script_name: MoMå¯é€‰-[6]å»æ‰æ­£æ–‡é‡Œçš„-å·ï¼Œå¿…é¡»å¼€æ‘˜è¦ï¼ˆ0910ï¼‰
      å¯ç”¨: false
      find_regex: ^([\s\S]*)(?=<meow_FM>)
      replace_string: $1
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: true
      run_on_edit: true
      min_depth: null
      max_depth: null
    - id: 88437346-7493-4854-9f93-105eda09ed93
      script_name: MoMç¾åŒ–-[7]ğŸ“±COTç¾åŒ–@yukiï¼ˆ0913ï¼‰
      å¯ç”¨: true
      find_regex: /(^[\s\S]+$)/m
      replace_string: |-
        ```html
        <!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><title>åŠ¨æ€èŠå¤©æ°”æ³¡</title><style>:root{--left-bubble-start:rgba(233,233,235,.6);--left-bubble-end:rgba(244,244,245,.6);--right-bubble-start:rgba(0,122,255,.7);--right-bubble-end:rgba(88,86,214,.7);--mobile-bg:url('https://cdn.discordapp.com/attachments/1412090688769757285/1415294257383739473/c79a77120952d57c.png?ex=68c2aefd&is=68c15d7d&hm=f81ef122a0b0b3917a573e205fffb6df2949633a19a441a13471d9281d168efb&')}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;display:flex;justify-content:center;align-items:center;margin:0;padding:0;box-sizing:border-box}.mobile-screen{width:600px;height:800px;border-radius:42px;overflow:hidden;display:flex;flex-direction:column;position:relative;border:2px solid rgba(0,0,0,.4);box-shadow:0 15px 45px rgba(0,0,0,.25);background-image:var(--mobile-bg);background-size:cover;background-position:center;transition:background-image .3s ease}.status-bar{padding:20px 24px 10px;display:flex;justify-content:space-between;align-items:center;font-size:14px;font-weight:600;color:#333;flex-shrink:0;background-color:rgba(255,255,255,.4);backdrop-filter:blur(10px);border-radius:42px 42px 2px 2px}.status-icons{display:flex;align-items:center;gap:8px}.icon-signal{display:flex;align-items:flex-end;gap:2px}.icon-signal span{background-color:#333;width:3px;border-radius:1px}.icon-signal span:nth-child(1){height:4px}.icon-signal span:nth-child(2){height:7px}.icon-signal span:nth-child(3){height:10px}.icon-signal span:nth-child(4){height:13px;background-color:#e0e0e0}.icon-battery{width:24px;height:11px;border:1.5px solid #333;border-radius:3px;position:relative;background:linear-gradient(to right,#4cd964 80%,transparent 80%)}.icon-battery::after{content:'';position:absolute;right:-4px;top:2px;width:2px;height:6px;background-color:#333;border-radius:0 1px 1px 0}.home-indicator{padding:20px;display:flex;justify-content:center;align-items:center;flex-shrink:0;cursor:pointer;background-color:rgba(255,255,255,.4);backdrop-filter:blur(10px);border-radius:2px 2px 42px 42px}.home-indicator div{width:135px;height:5px;background-color:rgba(0,0,0,.4);border-radius:100px;transition:background-color .2s}.home-indicator:hover div{background-color:rgba(0,0,0,.6)}#chat-container{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;background-color:transparent;padding:15px;display:flex;flex-direction:column;gap:15px}#chat-container::-webkit-scrollbar{width:5px}#chat-container::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:10px}#chat-container::-webkit-scrollbar-track{background:transparent}.avatar{width:50px;height:50px;border-radius:50%;object-fit:cover;flex-shrink:0}.message-container{display:flex;width:100%;align-items:flex-start;gap:5px;will-change:transform}.message-container.align-right{justify-content:flex-end}.message-container.align-left{justify-content:flex-start}.chat-bubble{padding:10px 15px;border-radius:18px;max-width:75%;word-wrap:break-word;line-height:1.5;box-shadow:0 1px 2px rgba(0,0,0,.1);border:1px solid rgba(255,255,255,.2);backdrop-filter:blur(5px);white-space:pre-wrap}.bubble-right{background-image:linear-gradient(135deg,var(--right-bubble-start),var(--right-bubble-end));color:#fff}.bubble-left{background-image:linear-gradient(135deg,var(--left-bubble-start),var(--left-bubble-end));color:#000}.chat-bubble img{max-width:100%;max-height:200px;display:block;border-radius:10px}.image-only-bubble{padding:0!important;background:0 0!important;box-shadow:none!important;border:none!important;backdrop-filter:none!important;line-height:0}#settings-panel{position:absolute;bottom:0;left:0;right:0;background-color:rgba(255,255,255,.9);backdrop-filter:blur(10px);border-top:1px solid rgba(0,0,0,.1);padding:20px 25px 30px;transform:translateY(100%);transition:transform .4s cubic-bezier(.25,.8,.25,1);z-index:100;border-radius:20px 20px 42px 42px}#settings-panel.show{transform:translateY(0)}.settings-title{font-size:18px;font-weight:600;margin-bottom:20px;text-align:center;color:#333}.settings-group{margin-bottom:15px}.settings-group label{display:block;font-size:14px;font-weight:500;margin-bottom:8px;color:#555}.settings-group input[type=text],.settings-group input[type=url],.settings-group input[type=file]{width:100%;padding:8px 12px;border:1px solid #ccc;border-radius:8px;box-sizing:border-box;font-size:14px}.settings-group input[type=file]{background-color:#f9f9f9;cursor:pointer}.settings-group input[type=file]::file-selector-button{background-color:#e9e9eb;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;margin-right:10px;font-weight:500}.color-inputs{display:flex;gap:10px}.color-inputs input[type=color]{flex:1;height:40px;border:1px solid #ccc;border-radius:8px;padding:2px;cursor:pointer}.settings-group input[type=range]{width:100%;-webkit-appearance:none;appearance:none;height:5px;background:#ddd;border-radius:5px;outline:0;transition:opacity .2s;cursor:pointer}.settings-group input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;background:#fff;border-radius:50%;border:1px solid #ccc;box-shadow:0 1px 3px rgba(0,0,0,.2)}.settings-group input[type=range]::-moz-range-thumb{width:20px;height:20px;background:#fff;border-radius:50%;border:1px solid #ccc;box-shadow:0 1px 3px rgba(0,0,0,.2)}.settings-group label span{float:right;font-weight:400;color:#888}#save-settings-btn{width:100%;padding:12px;border:none;border-radius:12px;background-color:#007aff;color:#fff;font-size:16px;font-weight:600;cursor:pointer;margin-top:10px;transition:background-color .2s}#save-settings-btn:hover{background-color:#0056b3}#reset-settings-btn{width:100%;padding:11px;border:1px solid #c7c7cc;border-radius:12px;background-color:#f2f2f7;color:#007aff;font-size:16px;font-weight:500;cursor:pointer;margin-top:8px;transition:background-color .2s}#reset-settings-btn:hover{background-color:#e5e5ea}</style></head><body><div class="mobile-screen"><div class="status-bar"><div class="time">{{time}}</div><div class="status-icons"><div class="icon-signal"><span></span><span></span><span></span><span></span></div><div class="icon-battery"></div></div></div><div id="chat-container"></div><div id="settings-panel"><div class="settings-title">æ˜¾ç¤ºè®¾ç½®</div><div class="settings-group"><label for="bg-upload">æ‰‹æœºèƒŒæ™¯å›¾</label><input type="file" id="bg-upload" accept="image/*"></div><div class="settings-group"><label for="left-avatar-upload">å¯¹æ–¹å¤´åƒ</label><input type="file" id="left-avatar-upload" accept="image/*"></div><div class="settings-group"><label for="right-avatar-upload">æˆ‘çš„å¤´åƒ</label><input type="file" id="right-avatar-upload" accept="image/*"></div><div class="settings-group"><label>å¯¹æ–¹æ°”æ³¡é¢œè‰² (æ¸å˜)</label><div class="color-inputs"><input type="color" id="left-color-1" value="#e9e9eb"><input type="color" id="left-color-2" value="#f4f4f5"></div></div><div class="settings-group"><label>æˆ‘çš„æ°”æ³¡é¢œè‰² (æ¸å˜)</label><div class="color-inputs"><input type="color" id="right-color-1" value="#007aff"><input type="color" id="right-color-2" value="#5856d6"></div></div><div class="settings-group"><label for="bubble-opacity">æ°”æ³¡é€æ˜åº¦ <span id="opacity-value">80%</span></label><input type="range" id="bubble-opacity" min="0.1" max="1" step="0.05"></div><button id="save-settings-btn">ä¿å­˜å¹¶å…³é—­</button><button id="reset-settings-btn">æ¢å¤é»˜è®¤è®¾ç½®</button></div><div class="home-indicator" id="settings-toggle"><div></div></div></div><div id="chat-data" style="display:none">$1</div><script>document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("chat-container"),t=document.getElementById("settings-panel"),n=document.getElementById("settings-toggle"),o=document.getElementById("save-settings-btn"),i=document.getElementById("reset-settings-btn"),a=document.getElementById("chat-data"),d=document.documentElement,l=document.getElementById("bg-upload"),c=document.getElementById("left-avatar-upload"),r=document.getElementById("right-avatar-upload"),s=document.getElementById("left-color-1"),m=document.getElementById("left-color-2"),u=document.getElementById("right-color-1"),p=document.getElementById("right-color-2"),g=document.getElementById("bubble-opacity"),h=document.getElementById("opacity-value"),f={bgUrl:"https://cdn.discordapp.com/attachments/1412090688769757285/1415294257383739473/c79a77120952d57c.png?ex=68c2aefd&is=68c15d7d&hm=f81ef122a0b0b3917a573e205fffb6df2949633a19a441a13471d9281d168efb&",leftAvatar:"https://cdn.discordapp.com/attachments/1412090688769757285/1415334842874331146/IMG_9680.jpg?ex=68c2d4ca&is=68c1834a&hm=1f8c247db8e68c6297ebb58efcb952a8d018505886c9901430acd8d7d9a456ae&",rightAvatar:"https://cdn.discordapp.com/attachments/1412090688769757285/1415334843516190812/IMG_9681.jpg?ex=68c2d4ca&is=68c1834a&hm=a3b9a5f95334c157c11e9b957e5a641fe4ed06332b45de45f45a26db9fd351b0&",leftColor1:"#e9e9eb",leftColor2:"#f4f4f5",rightColor1:"#007aff",rightColor2:"#5856d6",bubbleOpacity:.8};let y={...f};const b=(e,t)=>{const n=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);return`rgba(${n}, ${o}, ${i}, ${t})`},v=(t,n)=>{if(!t||""===t.trim())return;const o=document.createElement("div");o.className="message-container";const i=document.createElement("div");i.className="chat-bubble",i.innerHTML=t;const a=document.createElement("img");a.className="avatar";const d=document.createElement("div");d.innerHTML=t,1===d.children.length&&"IMG"===d.children[0].tagName&&""===d.textContent.trim()&&i.classList.add("image-only-bubble"),n?(o.classList.add("align-right"),i.classList.add("bubble-right"),a.src=y.rightAvatar,o.appendChild(i),o.appendChild(a)):(o.classList.add("align-left"),i.classList.add("bubble-left"),a.src=y.leftAvatar,o.appendChild(a),o.appendChild(i)),e.appendChild(o)},k=()=>{if(e.innerHTML="",!a)return;const t=a.innerHTML.split(/\r?\n/);let n=[],o=null;const i=()=>{n.length>0&&v(n.join("\n"),"right"===o),n=[]};t.forEach((e=>{const a=e.trim();if(""===a)return i(),void(o=null);const d=a.startsWith("[")&&a.endsWith("]")?"right":"left";d!==o&&null!==o&&i(),o=d,"right"===d?n.push(a.slice(1,-1).trim()):n.push(e)})),i(),e.scrollTop=e.scrollHeight},L=()=>{d.style.setProperty("--mobile-bg",`url('${y.bgUrl}')`),d.style.setProperty("--left-bubble-start",b(y.leftColor1,y.bubbleOpacity)),d.style.setProperty("--left-bubble-end",b(y.leftColor2,y.bubbleOpacity)),d.style.setProperty("--right-bubble-start",b(y.rightColor1,y.bubbleOpacity)),d.style.setProperty("--right-bubble-end",b(y.rightColor2,y.bubbleOpacity)),k(),s.value=y.leftColor1,m.value=y.leftColor2,u.value=y.rightColor1,p.value=y.rightColor2,g.value=y.bubbleOpacity,h.textContent=`${Math.round(100*y.bubbleOpacity)}%`},E=()=>{y.leftColor1=s.value,y.leftColor2=m.value,y.rightColor1=u.value,y.rightColor2=p.value,y.bubbleOpacity=parseFloat(g.value),localStorage.setItem("chatBubbleSettings",JSON.stringify(y))},w=()=>{const e=localStorage.getItem("chatBubbleSettings");e&&(y={...f,...JSON.parse(e)}),L()};n.addEventListener("click",(()=>t.classList.toggle("show"))),o.addEventListener("click",(()=>{E(),L(),t.classList.remove("show")})),i.addEventListener("click",(()=>{confirm("ç¡®å®šè¦æ¢å¤æ‰€æœ‰é»˜è®¤è®¾ç½®å—ï¼Ÿ")&&(localStorage.removeItem("chatBubbleSettings"),y={...f},L(),document.getElementById("bg-upload").value="",document.getElementById("left-avatar-upload").value="",document.getElementById("right-avatar-upload").value="",t.classList.remove("show"))}));const x=(e,t)=>{e.addEventListener("change",(e=>{const n=e.target.files[0];if(!n)return;const o=new FileReader;o.onload=e=>{y[t]=e.target.result,L()},o.readAsDataURL(n)}))};x(l,"bgUrl"),x(c,"leftAvatar"),x(r,"rightAvatar");const A=()=>{const e=parseFloat(g.value);d.style.setProperty("--left-bubble-start",b(s.value,e)),d.style.setProperty("--left-bubble-end",b(m.value,e)),d.style.setProperty("--right-bubble-start",b(u.value,e)),d.style.setProperty("--right-bubble-end",b(p.value,e)),h.textContent=`${Math.round(100*e)}%`};[s,m,u,p,g].forEach((e=>{e.addEventListener("input",A)})),w(),k()}));</script></body></html>
        ```
      source:
        user_input: false
        ai_output: false
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 1
    - id: 5068fe21-3a5b-4b7a-aaf7-4b16d3acb80f
      script_name: MoMç¾åŒ–-[8]ğŸ˜Šè¡¨æƒ…åŒ…ç¾åŒ–-éœ€è¦é…åˆè¡¨æƒ…åŒ…è¯æ¡(0913)
      å¯ç”¨: false
      find_regex: /<emoji>(.+?)</emoji>/g
      replace_string: |
        
        <img src="https://gitgud.io/mom1/bqb/-/raw/master/$1"width="128"height="128">
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 5
    - id: 46de2118-4c46-4b49-8c1c-535301e35ad3
      script_name: MoMç¾åŒ–-[9]è¶…çº§åºè¨€ï¼ˆ1123ï¼‰ @ç”µæ³¢ç³»
      å¯ç”¨: false
      find_regex: /<prologue>([\s\S]+?)</[^>]*>/i
      replace_string: |-
        ```html
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>å¿ƒç»ªå›å“ @ç”µæ³¢ç³»</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=ABeeZee:ital@0;1&family=Monoton&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://fonts.googleapis.com/css2?family=Ephesis&display=swap" rel="stylesheet">
        <link rel="preload" as="style" crossorigin
            href="https://fontsapi.zeoseven.com/2/main/result.css"
            onload="this.rel='stylesheet'"
            onerror="this.href='https://fontsapi-storage.zeoseven.com/2/main/result.css'" />
        <noscript>
            <link rel="stylesheet" href="https://fontsapi.zeoseven.com/2/main/result.css" />
        </noscript>
        <style>
            /* --- å­—ä½“å¼•å…¥ --- */
            @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=ZCOOL+KuaiLe&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap');

            /* --- åŸºç¡€ä¸é€šç”¨å¸ƒå±€ --- */
            body {
                display: flex; justify-content: center; align-items: center;
                margin: 0; padding: 10px; box-sizing: border-box;
            }
            .reverie-container {
                width: 100%; max-width: 500px;
                margin: 12px auto;
                display: none;
            }
            .reverie-container.active { display: block; }

            /* =================================================================== */
            /* --- éç¿»è½¬å¡ç‰‡æ ·å¼ (æ¨¡å¼ä¸€ã€ä¸‰) --- */
            /* =================================================================== */

            /* --- æ¨¡å¼ä¸€ï¼šæ‘˜æŠ„ --- */
            .style-excerpt .card-content-wrapper {
                background: #f7f3e9;
                box-shadow: 3px 3px 12px rgba(0, 0, 0, 0.15);
                padding: 25px 18px;
                font-family: 'LXGW ZhenKai GB', monospace;
                color: #3d3d3d;
                width: 100%;
                margin: 0 auto;
            }

            .style-excerpt .receipt-brand-title {
                font-family: 'monoton', cursive;
                font-size: 3em;
                text-align: center;
                margin-bottom: 15px;
                color: #000;
            }

            .style-excerpt .receipt-info {
                font-family: 'PingFang SC bold', sans-serif;
                display: flex;
                justify-content: space-between;
                font-size: 0.8em;
                color: #555;
                padding: 0 5px;
                margin-bottom: 10px;
            }

            .style-excerpt .receipt-divider {
                text-align: center;
                font-size: 0.9em;
                margin: 15px 0;
                letter-spacing: 1px;
                color: #888;
                white-space: nowrap;
                overflow: hidden;
            }

            .style-excerpt .receipt-items {
                padding: 10px 0;
                border-top: 1px dashed #c8bba8;
                border-bottom: 1px dashed #c8bba8;
            }

            .style-excerpt .item-name {
                font-weight: bold;
                font-size: 1em;
                margin-bottom: 15px;
                text-align: center;
            }

            .style-excerpt .item-desc {
                font-size: 1.05em;
                line-height: 1.7;
                margin-bottom: 15px;
                padding: 0 5px;
            }

            .style-excerpt .item-source {
                text-align: right;
                font-size: 0.85em;
                color: #666;
                margin-bottom: 20px;
                padding-right: 5px;
            }

            .style-excerpt .item-notes {
                background-color: #fdfaf0;
                border: 1px solid #e0dace;
                padding: 12px;
                font-size: 0.9em;
                margin-top: 10px;
            }

            .style-excerpt .notes-title {
                font-weight: bold;
                margin-bottom: 8px;
                color: #5c5c5c;
            }

            .style-excerpt .notes-content {
                font-style: italic;
                color: #777;
                line-height: 1.5;
            }

            .style-excerpt .receipt-total {
                display: flex;
                font-family: 'PingFang SC bold', sans-serif;
                justify-content: space-between;
                font-weight: bold;
                font-size: 1.1em;
                padding: 20px 5px 15px 5px;
            }

            .style-excerpt .receipt-footer {
                font-family: 'PingFang SC', sans-serif;
                text-align: center;
                font-size: 0.85em;
                color: #666;
                padding-top: 5px;
                border-top: 1px dashed #dcd3c5;
            }

            .style-excerpt .receipt-footer p {
                margin: 10px 0;
            }

            .style-excerpt .barcode {
                font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
                font-size: 2.8em;
                line-height: 1;
                color: #222;
                margin-top: 5px;
            }
            /* =================================================================== */
            /* --- æ¨¡å¼ä¸‰ï¼šç§äº«æ¨è --- */
            /* =================================================================== */
            .style-recommendation .card-content-wrapper {
                background: #fafafa;
                border-radius: 12px;
                box-shadow: 0 6px 18px rgba(80, 70, 60, 0.15);
                font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
                display: flex;
                max-width: 800px;
                margin: 0 auto;
            }

            /* --- ç™»æœºç‰Œä¸»åŒºåŸŸï¼ˆå·¦ä¾§ï¼‰ --- */
            .style-recommendation .boarding-pass-main {
                flex-grow: 1;
                padding: 15px 20px;
                display: flex;
                flex-direction: column;
                gap: 12px;
            }

            /* é¡¶éƒ¨èˆªå¸ä¿¡æ¯ */
            .style-recommendation .bp-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid #ddd;
                padding-bottom: 10px;
            }
            .style-recommendation .bp-airline {
                font-size: 1.4em;
                font-weight: bold;
                color: #1e90ff; /* èˆªå¸ä¸»é¢˜è“ */
            }

            .style-recommendation .bp-airline-logo {
            font-size: 2em;
            color: #1e90ff;
            }

            /* æ¨èç†ç”±åŒºåŸŸ */
            .style-recommendation .bp-reason .bp-label {
                font-size: 0.8em;
                color: #888;
                margin-bottom: 5px;
            }
            .style-recommendation .bp-reason-text {
                font-size: 0.95em;
                line-height: 1.6;
                color: #333;
                text-align: justify;
            }

            /* èˆªç­è¯¦æƒ…ç½‘æ ¼ */
            .style-recommendation .bp-details-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 12px;
            }
            .style-recommendation .bp-detail .bp-label {
                font-size: 0.75em;
                color: #888;
            }
            .style-recommendation .bp-detail .bp-value {
                font-size: 1.2em;
                font-weight: 600;
                color: #111;
            }

            .style-recommendation .bp-passenger .bp-value {
                font-size: 1.5em;
                font-family: 'Ephesis', 'LXGW ZhenKai GB', cursive;
            }


            /* --- ç™»æœºç‰Œå­˜æ ¹ï¼ˆå³ä¾§ï¼‰ --- */
            .style-recommendation .boarding-pass-stub {
                flex-shrink: 0;
                width: 140px;
                border-left: 2px dashed #aaa;
                padding: 15px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
                background-color: rgba(30, 144, 255, 0.05);
            }
            .style-recommendation .stub-airline {
                font-size: 1em;
                font-weight: bold;
                color: #1e90ff;
            }
            .style-recommendation .stub-details {
                width: 100%;
                text-align: ri;
            }
            .style-recommendation .stub-details .bp-detail { margin-bottom: 10px; }
            .style-recommendation .stub-details .bp-label { font-size: 0.7em; }
            .style-recommendation .stub-details .bp-value { font-size: 1em; font-weight: bold; }

            /* æ ¸å¿ƒæ¨èå†…å®¹ */
            .style-recommendation .stub-destination-label {
                width: 100%;
                text-align: left;
                font-size: 0.7em;
                color: #888;
            }

            .style-recommendation .stub-recommendation {
                text-align: left;
                font-size: 1em;
                font-weight: bold;
                color: #000;
                line-height: 1.4;
            }
            .style-recommendation .bp-barcode {
                font-weight: bold;
                font-family:"Oswald", sans-serif;
                font-size: 1.5em;
                line-height: 1;
                color: #222;
                margin-top: auto;
            }

            .style-recommendation .stub-recommendation-source {
                display: block;
                font-size: 0.8em;
                font-weight: normal;
                color: #888;
                margin-top: 4px;
            }
            body.dark-mode .style-recommendation .stub-recommendation-source {
                color: #a0aec0;
            }

            @media (max-width: 480px) {
                .style-recommendation .card-content-wrapper {
                    flex-direction: column;
                }

                .style-recommendation .boarding-pass-stub {
                    width: auto;
                    border-left: none;
                    border-top: 2px dashed #aaa;
                    margin-top: 15px;
                    padding-top: 15px;
                }

                .style-recommendation .stub-destination-label  {
                    text-align: center;
                }
            }

            /* --- æ¨¡å¼äº”ï¼šè®°å¿†ç¢ç‰‡ --- */
            .style-memory .card-content-wrapper {
                background-color: #ece9d8;
                border: 2px solid;
                border-top-color: #ffffff;
                border-left-color: #ffffff;
                border-right-color: #808080;
                border-bottom-color: #808080;
                box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
                padding: 3px;
                font-family: Tahoma, Verdana, sans-serif;
                font-size: 14px;
            }

            .style-memory .memory-title-bar {
                background: linear-gradient(to right, #0053ee, #3a8cff);
                padding: 4px 6px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                color: white;
                font-weight: bold;
                text-shadow: 1px 1px #003baf;
                margin-bottom: 3px;
            }
            .style-memory .window-buttons { display: flex; gap: 3px; }
            .style-memory .window-button {
                width: 20px; height: 20px; background-color: #d4d0c8; border: 1px solid;
                border-top-color: #ffffff; border-left-color: #ffffff;
                border-right-color: #404040; border-bottom-color: #404040;
                box-shadow: 1px 1px #000; color: #000; font-family: "MS Sans Serif", sans-serif;
                font-weight: bold; font-size: 12px; display: flex; justify-content: center;
                align-items: center; line-height: 1;
            }
            .style-memory .window-button.close {
                background-color: #e74c3c; color: white;
                border-top-color: #f5a9a2; border-left-color: #f5a9a2;
                border-right-color: #a53528; border-bottom-color: #a53528;
            }

            .style-memory .memory-content-area {
                background-color: white;
                border: 1px solid;
                border-top-color: #808080;
                border-left-color: #808080;
                border-right-color: #ffffff;
                border-bottom-color: #ffffff;
                padding: 15px;
                color: #000;
                max-height: 300px;
                overflow-y: auto; /* ä¿æŒ autoï¼Œå†…å®¹è¶…å‡º max-height æ—¶è‡ªåŠ¨æ˜¾ç¤ºæ»šåŠ¨æ¡ */
            }

            .style-memory .line-2 {
                line-height: 1.6;
                margin-bottom: 15px;
                white-space: pre-wrap;
            }
            .style-memory .line-3 {
                font-style: italic;
                color: #555;
                padding-top: 10px;
                border-top: 1px solid #ccc;
                white-space: pre-wrap;
            }

            .style-memory .memory-status-bar {
                margin-top: 3px;
                padding: 3px 6px;
                border: 1px solid;
                border-top-color: #808080;
                border-left-color: #808080;
                border-right-color: #ffffff;
                border-bottom-color: #ffffff;
                font-size: 12px;
                color: #404040;
            }

            .style-memory .memory-content-area::-webkit-scrollbar { width: 16px; }
            .style-memory .memory-content-area::-webkit-scrollbar-track { background-color: #dfdfdf; }
            .style-memory .memory-content-area::-webkit-scrollbar-thumb {
                background-color: #c0c0c0; border: 1px solid;
                border-top-color: #e0e0e0; border-left-color: #e0e0e0;
                border-right-color: #606060; border-bottom-color: #606060;
            }
            .style-memory .memory-content-area::-webkit-scrollbar-button {
                background-color: #c0c0c0; border: 1px solid;
                border-top-color: #e0e0e0; border-left-color: #e0e0e0;
                border-right-color: #606060; border-bottom-color: #606060;
                height: 16px; width: 16px;
            }

            /* =================================================================== */
            /* --- ç¿»è½¬å¡ç‰‡é€šç”¨å¸ƒå±€ --- */
            /* =================================================================== */

            .style-fortune, .style-postcard {
                perspective: 1200px;
            }
            .card-flipper {
                position: relative; width: 100%; height: 260px;
                transition: transform 0.7s cubic-bezier(0.5, 0, 0.5, 1);
                transform-style: preserve-3d;
                cursor: pointer;
            }

            .style-fortune .card-face,
            .style-postcard .card-face {
                position: absolute; width: 100%; height: 100%;
                backface-visibility: hidden; -webkit-backface-visibility: hidden;
                box-sizing: border-box; overflow: hidden;
                display: flex; flex-direction: column;
                align-items: center; justify-content: center;
            }

            /* =================================================================== */
            /* --- æ¨¡å¼å››ï¼šå‘½è¿å¯ç¤º --- */
            /* =================================================================== */

            .style-fortune .card-content-wrapper {
                background: #faeeee; /* ä½¿ç”¨ä¸å°ç¥¨ç›¸ä¼¼çš„ç±³é»„åº•è‰² */
                border: 1px solid #dcc6c5;
                border-radius: 8px;
                box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1), inset 0 0 15px rgba(230, 220, 200, 0.3);
                padding: 45px 20px 20px 20px;
                font-family: 'Noto Serif SC', serif;
                position: relative;
                text-align: center;
                width: 100%;
                margin: 0 auto;
                overflow: hidden;
            }

            .style-fortune .calendar-top-rings {
                position: absolute;
                top: 15px;
                left: 0;
                right: 0;
                display: flex;
                justify-content: center;
                gap: 25px;
            }
            .style-fortune .calendar-top-rings span {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                background: #fdf4f0;
                border: 1px solid #c8bba8;
                box-shadow: inset 1px 1px 3px rgba(0,0,0,0.15);
            }

            .style-fortune .calendar-header {
                margin-bottom: 10px;
            }
            .style-fortune .year-line {
                font-size: 0.8em;
                color: #b08a78;
                letter-spacing: 2px;
            }
            .style-fortune .month-line {
                font-size: 1.5em;
                font-weight: 700;
                color: #4a403a;
                margin-top: 5px;
            }

            .style-fortune .calendar-body {
                margin: 5px 0 15px 0;
            }
            .style-fortune .day-number {
                font-family: 'Noto Serif SC', serif;
                font-weight: 900;
                font-size: 3em;
                line-height: 1;
                color: #4a403a;
                text-shadow: 2px 2px 3px rgba(255, 255, 255, 0.5);
            }

            .style-fortune .calendar-footer {
                border-top: 1px solid #e0dace;
                padding-top: 15px;
            }
            .style-fortune .day-of-week-line {
                font-size: 0.9em;
                font-weight: bold;
                color: #8d6059;
                background-color: #e0cece;
                padding: 6px 10px;
                border-radius: 4px;
                margin-bottom: 15px;
                display: inline-block;
            }
            .style-fortune .quote-line {
                font-size: 0.95em;
                color: #6c5f5b;
                line-height: 1.8;
                text-align: justify;
            }
            .style-fortune .gossip-line {
                font-size: 0.85em;
                color: #ffffff;
                margin-top: 10px;
                padding: 10px;
                border-radius: 6px;
                background-color: #9172728a;
                line-height: 1.7;
            }

            @media screen and (max-width: 400px) {
                .style-fortune .day-number {
                    font-size: 2em;
                }
            }

            /* =================================================================== */
            /* --- æ¨¡å¼äºŒï¼šæ‹ç«‹å¾— --- */
            /* =================================================================== */

            .style-postcard.is-flipped .card-flipper { transform: rotateY(180deg); }
            .style-postcard .card-face {
                background-color: #ffffff;
                box-shadow: 0 6px 18px rgba(80, 70, 60, 0.15);
            }
            .style-postcard .card-front {
                padding: 12px 12px 60px 12px;
                justify-content: flex-start;
            }
            .style-postcard .polaroid-photo-area {
                width: 95%; flex-grow: 1;
                background-color: #4a4a4a; color: #ccc;
                font-size: 0.9em; line-height: 1.5; padding: 15px;
                text-align: center; font-style: italic;
                display: flex; justify-content: center; align-items: center;
            }
            .style-postcard .postmark {
                position: absolute; top: 10px; right: 8px; width: 55px; height: 55px;
                border: 2px solid rgba(132, 116, 100, 0.5); border-radius: 50%;
                display: flex; flex-direction: column; justify-content: center; align-items: center;
                color: rgba(220, 201, 182, 0.6); transform: rotate(10deg);
                font-family: monospace; font-size: 0.7em; z-index: 5;
            }
            .style-postcard .card-back {
                transform: rotateY(180deg); padding: 25px; color: #3d3a37;
            }
            /* ä¿®å¤å…³é”®ç‚¹ 2ï¼šä¸ºæ‰€æœ‰ .line-x å…ƒç´ æ·»åŠ  .style-postcard çˆ¶çº§é™å®š */
            .style-postcard .card-front .line-1 {
                position: absolute; bottom: 15px; left: 15px; right: 15px;
                text-align: center; font-family: 'Kalam', cursive;
                font-size: 1.1em; color: #3d3a37;
            }
            .style-postcard .card-back .line-2 {
                font-family: 'Noto Serif SC', serif; font-size: 1.05em; line-height: 1.8;
                flex-grow: 1; display: flex; align-items: center; text-align: center;
            }
            .style-postcard .card-back .line-3 {
                font-family: 'Kalam', cursive; font-size: 1em; color: #857f78;
                padding-top: 15px; width: 100%;
                border-top: 1px dashed #dcd6cd; text-align: right;
            }
        </style>
        </head>
        <body>

        <div class="reverie-container" id="reverieCard">
            <!-- è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„å®¹å™¨ï¼ŒJSä¼šæ ¹æ®æ¨¡å¼å¡«å……å†…å®¹ -->
        </div>

        <div id="raw-data" style="display: none;">
        $1
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                // --- æ•°æ®è·å–ä¸é¢„å¤„ç† ---
                const cardContainer = document.getElementById('reverieCard');
                const rawData = document.getElementById('raw-data');
                if (!cardContainer || !rawData) return;

                const rawText = rawData.textContent.trim();
                const activeModeMatch = rawText.match(/æ¨¡å¼ï¼š(\w+)\n([\s\S]*)$/);
                if (!activeModeMatch) return;

                const mode = activeModeMatch[1];
                const content = activeModeMatch[2];

                const cleanSymbols = (str) => {
                    if (!str) return str;
                    return str.replace(/\*\*|__|\*|_|~~/g, '');
                };

                const lines = content.split('\n').map(l => l.trim()).filter(Boolean).map(cleanSymbols);

                // --- å¡ç‰‡æ¸²æŸ“ ---
                cardContainer.innerHTML = '';
                cardContainer.className = 'reverie-container';
                cardContainer.classList.add(`style-${mode}`, 'active');

                // --- æ¨¡å¼åˆ¤æ–­ä¸æ„å»º ---
                const flippingModes = ['postcard']; // 'fortune' å·²è¢«ç§»é™¤

                if (flippingModes.includes(mode)) {
                    // --- ç¿»è½¬å¡ç‰‡é€»è¾‘ (ä»…å‰© postcard) ---
                    cardContainer.classList.remove('is-flipped');
                    const flipper = document.createElement('div');
                    flipper.className = 'card-flipper';
                    const front = document.createElement('div');
                    front.className = 'card-front card-face';
                    const back = document.createElement('div');
                    back.className = 'card-back card-face';

                    if (mode === 'postcard') {
                        front.innerHTML = `
                            <div class="postmark">ECHO<br/>POST</div>
                            <div class="polaroid-photo-area">${lines[0] || 'ä¸€å¼ ç…§ç‰‡'}</div>
                            <div class="line-1">${lines[1] || ''}</div>
                        `;
                        back.innerHTML = `
                            <div class="line-2">${lines[2] || ''}</div>
                            <div class="line-3">${lines[3] || ''}</div>
                        `;
                    }
                    flipper.appendChild(front);
                    flipper.appendChild(back);
                    cardContainer.appendChild(flipper);
                    cardContainer.addEventListener('click', () => {
                        cardContainer.classList.toggle('is-flipped');
                    });

                } else {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'card-content-wrapper';

                    if (mode === 'recommendation') {
                        const flightId = 'RV-' + Math.floor(1000 + Math.random() * 9000);
                        const gate = String.fromCharCode(65 + Math.floor(Math.random() * 6)) + String(Math.floor(1 + Math.random() * 20)).padStart(2, '0');
                        const seat = Math.floor(1 + Math.random() * 35) + String.fromCharCode(65 + Math.floor(Math.random() * 6));
                        const boardingTime = `${String(Math.floor(8 + Math.random() * 12)).padStart(2, '0')}:${String(Math.floor(Math.random() * 60)).padStart(2, '0')}`;

                        const sharerName = lines[0] || 'Anonymous';
                        const recommendationText = lines[1] || 'A Wonderful Experience';
                        const reasonText = lines[2] || 'No reason, just feel it.';

                        // --- æ ¸å¿ƒä¿®æ”¹é€»è¾‘ ---
                        let recommendationHTML = recommendationText;
                        const separators = [' by ', 'â€”â€”', 'â€”', ' - '];
                        for (const sep of separators) {
                            if (recommendationText.includes(sep)) {
                                const parts = recommendationText.split(sep, 2);
                                const title = parts[0].trim();
                                const source = parts[1].trim();
                                recommendationHTML = `${title}<span class="stub-recommendation-source">${sep.trim()} ${source}</span>`;
                                break;
                            }
                        }
                        // --- ä¿®æ”¹ç»“æŸ ---

                        wrapper.innerHTML = `
                            <div class="boarding-pass-main">
                                <div class="bp-header">
                                    <span class="bp-airline">REVERIE AIRWAYS</span>
                                    <i class="fa-solid fa-plane bp-airline-logo"></i>
                                </div>
                                <div class="bp-reason">
                                    <div class="bp-label">BOARDING PASS TO</div>
                                    <p class="bp-reason-text">${reasonText}</p>
                                </div>
                                <div class="bp-details-grid">
                                    <div class="bp-detail bp-passenger">
                                        <div class="bp-label">PASSENGER</div>
                                        <div class="bp-value">${sharerName}</div>
                                    </div>
                                    <div class="bp-detail">
                                        <div class="bp-label">SEAT</div>
                                        <div class="bp-value">${seat}</div>
                                    </div>
                                    <div class="bp-detail">
                                        <div class="bp-label">GATE</div>
                                        <div class="bp-value">${gate}</div>
                                    </div>
                                    <div class="bp-detail">
                                        <div class="bp-label">BOARDING TIME</div>
                                        <div class="bp-value">${boardingTime}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="boarding-pass-stub">
                                <div class="stub-airline">ä»Šæ—¥æ¨è</div>
                                <div class="stub-details">
                                    <div class="bp-detail">
                                        <div class="bp-label">PASSENGER</div>
                                        <div class="bp-value">${sharerName}</div>
                                    </div>
                                    <div class="bp-detail">
                                        <div class="bp-label">SEAT</div>
                                        <div class="bp-value">${seat}</div>
                                    </div>
                                </div>
                                <div class="stub-destination-label">ç›®çš„åœ°</div>
                                <div class="stub-recommendation">${recommendationHTML}</div>
                                <div class="bp-barcode">${flightId}</div>
                            </div>
                        `;
                    }
                    else if (mode === 'fortune') {
                        // --- å…¨æ–°ï¼šä¸º fortune ä¸‡å¹´å†æ¨¡å¼æ„å»ºDOM ---
                        const cardInfo = (lines[0] || ' - ').split(' - ');
                        const cardNumber = cardInfo[0].trim();
                        const cardName = cardInfo[1] ? cardInfo[1].trim() : '';
                        const cardKeywords = lines[1] || '...';
                        const cardMeaning = lines[2] || '...';
                        const cardComment = lines[3] || '';

                        wrapper.innerHTML = `
                            <div class="calendar-top-rings"><span></span><span></span></div>
                            <div class="calendar-header">
                                <div class="year-line">DESTINY'S ALMANAC</div>
                                <div class="month-line">${cardNumber}</div>
                            </div>
                            <div class="calendar-body">
                                <div class="day-number">${cardName}</div>
                            </div>
                            <div class="calendar-footer">
                                <div class="day-of-week-line">${cardKeywords}</div>
                                <div class="quote-line">${cardMeaning}</div>
                                <div class="gossip-line">${cardComment}</div>
                            </div>
                        `;
                    } else
                 if (mode === 'memory') {
                    // --- å…¨æ–°ï¼šä¸º memory æ¨¡å¼æ„å»ºå¤å¤çª—å£DOM ---
                    wrapper.innerHTML = `
                        <div class="memory-title-bar">
                            <span class="title-text">C:\\Memories\\fragment.txt</span>
                            <div class="window-buttons">
                                <span class="window-button">_</span>
                                <span class="window-button">â–¡</span>
                                <span class="window-button close">Ã—</span>
                            </div>
                        </div>
                        <div class="memory-content-area">
                            <div class="line-2">${lines[1] || '...'}</div>
                            <div class="line-3">${lines[2] || '...'}</div>
                        </div>
                        <div class="memory-status-bar">
                            <div class="line-1">${lines[0] || '...'}</div>
                        </div>
                    `;
                } else if (mode === 'excerpt') {
                    // --- è´­ç‰©å°ç¥¨æ¨¡å¼ ---
                    const now = new Date();
                    const date = `${now.getFullYear()}/${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')}`;
                    const time = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
                    const orderId = `R-${now.getTime().toString().slice(-8)}`;

                    wrapper.innerHTML = `
                        <div class="receipt-brand-title">E C H O</div>
                        <div class="receipt-info">
                            <span>å•å·: ${orderId}</span>
                            <span>${date} ${time}</span>
                        </div>
                        <div class="receipt-items">
                            <div class="item-name">ç²¾ç¥é£Ÿç²® Â· ä¸€ä»½</div>
                            <div class="item-desc">${lines[0] || ''}</div>
                            <div class="item-source">${lines[1] || ''}</div>
                            <div class="item-notes">
                                <div class="notes-title">éšç¬”å¤‡æ³¨:</div>
                                <div class="notes-content">${lines[2] || ''}</div>
                            </div>
                        </div>
                        <div class="receipt-total">
                            <span>æ€»è®¡ (TOTAL)</span>
                            <span>PRICELESS</span>
                        </div>
                        <div class="receipt-footer">
                            <p>æ„Ÿè°¢æƒ é¡¾ï¼Œæ¬¢è¿å†æ¬¡å…‰ä¸´ï¼</p>
                            <div class="barcode">${orderId}</div>
                        </div>
                    `;
                } else {
                    // é»˜è®¤çš„é™æ€å¡ç‰‡ç»“æ„
                    wrapper.innerHTML = `
                        <div class="line-1">${lines[0] || ''}</div>
                        <div class="line-2">${lines[1] || ''}</div>
                        <div class="line-3">${lines[2] || ''}</div>
                        <div class="line-4">${lines[3] || ''}</div>
                    `;
                }
                cardContainer.appendChild(wrapper);
            }
        });
        </script>

        </body>
        </html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 10
    - id: f5b219c8-fb77-4ea0-89d3-3ebaf5895af3
      script_name: MoMç¾åŒ–-[9]å¼€ç¯‡åºè¨€é€æ˜ç‰ˆ@YUKIï¼ˆ1116ï¼‰
      å¯ç”¨: false
      find_regex: /<prologue>([\s\S]+?)</[^>]*>/i
      replace_string: |-
        ```html
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>åºè¨€ç¾åŒ–é€æ˜</title>
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Allura&family=Caveat:wght@400..700&display=swap" rel="stylesheet">
            <link rel="stylesheet" href="https://fontsapi.zeoseven.com/157/main/result.css">
            <link rel="stylesheet" href="https://fontsapi.zeoseven.com/85/main/result.css">
        <style>:root{--main-font:'Allura','PING FANG SHAO HUA','TekitouPoem','Caveat',cursive;--main-font-size:1.4em;--secondary-font-size:1.7em;--source-font-size:1.2em;--tilt-angle:.6deg;--container-max-width:550px;--text-color:#cac3b7;--hover-shadow-color:rgba(0,0,0,.15);--divider-color:rgba(255,255,255,.2);--bg-texture-opacity:.1;--ripple-color:rgba(255,255,255,.02);--ripple-duration:.3s}*{margin:0;padding:0;box-sizing:border-box}body{padding:10px}.vintage-prologue{cursor:default;font-family:var(--main-font);max-width:var(--container-max-width);width:100%;margin:20px auto;position:relative;overflow:hidden;padding:20px;display:flex;justify-content:center;align-items:center;min-height:100px;border-radius:4px;box-shadow:-1px 1px 2px 1px var(--hover-shadow-color);transition:box-shadow .8s ease,text-shadow .8s ease,transform .8s ease}.vintage-prologue:hover{box-shadow:-2px 2px 6px 2px var(--hover-shadow-color);transform:translate(4px,-6px)}.vintage-prologue::before,.vintage-prologue::after{content:'';position:absolute;border-radius:inherit;pointer-events:none}.vintage-prologue::after{top:4px;left:4px;right:4px;bottom:4px;border-top:2px dashed var(--divider-color);border-bottom:3px dotted var(--divider-color)}.vintage-prologue::before{top:0;left:0;width:100%;height:100%;background-image:url('https://i.postimg.cc/PrRm433D/pg.png');background-position:left top;background-repeat:repeat;opacity:var(--bg-texture-opacity);z-index:1;transition:opacity .8s ease}.vintage-prologue .content{position:relative;color:var(--text-color);z-index:3;width:100%;text-align:left}@keyframes ripple{from{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-50%,-50%) scale(2);opacity:0}}.ripple-effect{position:absolute;top:0;left:100%;width:100%;padding-top:100%;border-radius:50%;background-color:var(--ripple-color);transform:translate(-50%,-50%) scale(0);opacity:0;pointer-events:none;z-index:2}.vintage-prologue:hover .ripple-effect{animation:ripple var(--ripple-duration) ease-out forwards}.main-text p{margin-bottom:.2em;font-weight:100;letter-spacing:.03em;overflow-wrap:anywhere;transform:rotate(calc(var(--tilt-multiplier,1) * var(--tilt-angle)))}.main-text .original-line{font-size:var(--main-font-size)}.main-text .translation-line{font-size:var(--secondary-font-size)}.main-text p:nth-child(odd){--tilt-multiplier:-1}.source-text{text-align:right;font-size:var(--source-font-size);margin-top:5px}.hidden-data-container{display:none}</style>
        </head>
        <body>
        <div class="vintage-prologue" id="prologue-container">
            <span class="ripple-effect"></span>
            <div class="content">
                <div class="main-text" id="main-text-container"></div>
                <p class="source-text" id="prologue-source"></p>
            </div>
        </div>
        <div id="prologue-raw-data" class="hidden-data-container">$1</div>
        <script>document.addEventListener('DOMContentLoaded',function(){'use strict';const c=document.getElementById('prologue-container'),d=document.getElementById('prologue-raw-data'),m=document.getElementById('main-text-container'),s=document.getElementById('prologue-source');if(!c||!d||!m||!s)return;function p(t){if(!t||!t.trim())return null;const e=t=>t?t.trim().split('\n').map(e=>e.trim().replace(/^(["â€œã€Œ])(.*)\1$/,'$2')).filter(Boolean):[];const n=t.trim().split('\n'),i=n[n.length-1]?.trim()||'';let r='',l=t.trim();if(i.match(/^[â€”â€•â”€-]/)){r=i.replace(/^[â€”â€•â”€-]\s*/,'');n.pop();l=n.join('\n').trim()}const o=l.split(/<hr\s*\/?>/i),[a,u]=o;return{originalLines:u?e(a):[],translationLines:e(u||a),source:r}}function a(t,e,n=''){const i=document.createElement('p');i.className=t;i.textContent=`${n.charAt(0)}${e}${n.charAt(1)||''}`;m.appendChild(i)}function u(){const t=d.innerHTML,e=p(t);m.innerHTML='';s.textContent='';if(e&&(e.originalLines.length>0||e.translationLines.length>0)){e.originalLines.length>0&&a('original-line',e.originalLines.join(' '),'""');e.translationLines.length>0&&a('translation-line',e.translationLines.join(' '),'ã€Œã€');s.textContent=e.source?`â€” ${e.source}`:''}}const g=new MutationObserver(u);g.observe(d,{childList:!0,characterData:!0,subtree:!0});u()});</script>
        </body>
        </html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 5
    - id: a48410f3-c326-49c3-8ccd-9e9e2897d85d
      script_name: MoMç¾åŒ–-[9]å¼€ç¯‡åºè¨€åŒè‰²ç‰ˆï¼ˆ1124ï¼‰@YUKI@KKM
      å¯ç”¨: false
      find_regex: /<prologue>([\s\S]+?)</[^>]*>/i
      replace_string: |-
        ```html
        <!DOCTYPE html><html lang="zh-CN"><head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="color-scheme" content="light dark">
        <title>åºè¨€ç¾åŒ–</title>

        <!-- ä¿ç•™ç¬¬ä¸€ç‰ˆå­—ä½“ä¸èµ„æº -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Allura&family=Caveat:wght@400..700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fontsapi.zeoseven.com/157/main/result.css">
        <link rel="stylesheet" href="https://fontsapi.zeoseven.com/85/main/result.css">

        <style>
        :root{
          /* å­—ä½“/å­—å· */
          --main-font:'Allura','PING FANG SHAO HUA','TekitouPoem','Caveat',cursive;
          --main-font-size:1.3em;
          --secondary-font-size:1.5em;
          --source-font-size:1.1em;
          --tilt-angle:.6deg;
          --container-max-width:550px;

          /* ç³»åˆ—ä¸»é¢˜ */
          --paper-fallback-color:#faf8f3;
          --text-color:rgba(20,30,50,.6);
          --text-stroke-color:#272f3b;
          --text-shadow-color:rgba(51,69,96,0);
          --blend-color:#f4efe6;
          --blend-opacity:.12;
          --shadow-color:rgba(0,0,0,.08);
          --hover-shadow:0 0 8px 2px rgba(60,202,238,.4);

          /* ä¸æ»‘å‚æ•° */
          --theme-speed:.9s;
          --ease:cubic-bezier(.4,0,.2,1);
          --micro-ease:cubic-bezier(.2,.8,.2,1);
          --paper-bg-image:url(https://i.postimg.cc/PrRm433D/pg.png);
        }
        .vintage-prologue.dark-mode{
          /* å¤œé—´ä»…æå‡å¯è¯»æ€§ï¼ˆä¸æ”¹å­—ä½“ï¼‰ */
          --paper-fallback-color:#1e232a;
          --text-color:rgba(245,240,220,.92);
          --text-stroke-color:rgba(240,230,200,.28);
          --blend-color:#181d23;
          --blend-opacity:.26;
          --shadow-color:rgba(0,0,0,.28);
        }

        *{margin:0;padding:0;box-sizing:border-box}

        body{
          display:flex;justify-content:center;
          font-family:var(--main-font);
          font-size:16px;line-height:1.6;color:var(--text-color);
          transition: color var(--theme-speed) var(--ease);
        }

        .vintage-prologue{
          max-width:var(--container-max-width); width:100%;
          margin:20px auto; position:relative; overflow:hidden; cursor:pointer;
          padding:10px 20px; min-height:100px; border-radius:8px;
          color:var(--text-color);
          background-color:var(--paper-fallback-color);
          background-image:var(--paper-bg-image);
          background-position:left top; background-repeat:repeat;
          background-blend-mode:multiply;
          box-shadow:0 10px 30px var(--shadow-color),0 5px 15px rgba(0,0,0,.05);
          transition:
            background-color var(--theme-speed) var(--ease),
            color var(--theme-speed) var(--ease),
            box-shadow .35s var(--ease),
            filter .42s var(--micro-ease);
          will-change: background-color, color, filter;
          isolation:isolate;
        }
        .vintage-prologue.dark-mode{ background-blend-mode:soft-light; }
        .vintage-prologue:hover{ box-shadow:var(--hover-shadow) }

        /* â€œçº¹ç†å±‚â€åšæ¸å˜ï¼Œè®©åˆ‡æ¢æ›´æŸ” */
        .vintage-prologue::before,
        .vintage-prologue::after{
          content:''; position:absolute; inset:0; border-radius:inherit; pointer-events:none; z-index:1;
          transition: opacity .42s var(--micro-ease), filter .42s var(--micro-ease);
        }
        .vintage-prologue::before{
          background:
            radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,.06) 0, rgba(0,0,0,0) 70%),
            radial-gradient(90% 120% at 100% 20%, rgba(0,0,0,.05) 0, rgba(0,0,0,0) 65%),
            linear-gradient(180deg, rgba(255,255,255,0) 0%, var(--blend-color) 100%);
          opacity:var(--blend-opacity);
        }
        .vintage-prologue::after{
          background-image:
            repeating-linear-gradient(0deg,   rgba(0,0,0,.02) 0 1px, transparent 1px 2px),
            repeating-linear-gradient(90deg,  rgba(0,0,0,.018) 0 1px, transparent 1px 2px);
          opacity:.03;
        }

        /* åˆ‡æ¢ç¬é—´ï¼šè½»å¾®å¯¹æ¯”/é¥±å’Œ/äº®åº¦ç¼“å…¥ + çº¹ç†å±‚æ›´æ˜¾ä¸€ç‚¹ */
        .vintage-prologue.theming{ filter: brightness(1.02) contrast(1.03) saturate(1.02); }
        .vintage-prologue.theming::before{ opacity: calc(var(--blend-opacity) + .08); }
        .vintage-prologue.theming::after{ opacity: .045; }

        .vintage-prologue .content{
          position:relative; z-index:2; width:100%; text-align:left; color:var(--text-color);
          transition: color var(--theme-speed) var(--ease), filter .42s var(--micro-ease);
          padding-bottom:56px; /* åº•éƒ¨å®‰å…¨åŒºï¼šç»™æŒ‰é’®ä¸æ¥æºè®©ä½ */
          will-change: color, filter;
        }
        .main-text p{ margin-bottom:.2em; }
        .main-text p,.source-text{
          font-weight:100; letter-spacing:.03em; overflow-wrap:anywhere;
          -webkit-text-stroke:.05px var(--text-stroke-color);
          text-shadow:0 0 .05px var(--text-shadow-color);
          transition: -webkit-text-stroke var(--theme-speed) var(--ease),
                     text-shadow var(--theme-speed) var(--ease),
                     color var(--theme-speed) var(--ease);
        }
        .main-text .original-line{ font-size:var(--main-font-size); }
        .main-text .translation-line{ font-size:var(--secondary-font-size); }
        .main-text p:nth-child(odd){ transform:rotate(calc(-1 * var(--tilt-angle))); }
        .main-text p:nth-child(even){ transform:rotate(var(--tilt-angle)); }

        /* æœ€åä¸€è¡Œå›ºå®šåœ¨å³ä¸‹ï¼Œä¸æŒ‰é’®é½å¹³ */
        .source-text{
          position:absolute; right:20px; bottom:12px; z-index:2;
          font-size:var(--source-font-size); margin:0;
        }

        /* å·¦ä¸‹è§’åˆ‡æ¢æŒ‰é’®ï¼ˆç›´æ¥æ”¹è¿™é‡Œçš„ emoji å³å¯æ›¿æ¢ ğŸï¼‰ */
        .prologue-emoji{
          position:absolute; left:12px; bottom:12px; z-index:3;
          font-size:22px; line-height:1; border:none; background:transparent;
          color:inherit; cursor:pointer; user-select:none; -webkit-tap-highlight-color:transparent;
          border-radius:10px; padding:6px;
          transition: transform .28s var(--micro-ease), filter .28s var(--micro-ease), opacity .28s var(--micro-ease);
        }
        .vintage-prologue:hover .prologue-emoji{ transform: translateZ(0) scale(1.05); }
        .prologue-emoji:active{ transform: translateZ(0) scale(.96); }
        /* åˆ‡æ¢æ—¶åšä¸ªè½»å¾®â€œå¼¹è·³â€ */
        .prologue-emoji.pop{ animation: pop .42s var(--micro-ease) 1; }
        @keyframes pop{
          0%{ transform:scale(1) }
          40%{ transform:scale(1.14) }
          100%{ transform:scale(1) }
        }
        /* æ—¥é—´å½©è‰²ã€å¤œé—´ç°é˜¶ */
        .vintage-prologue:not(.dark-mode) .prologue-emoji{ filter:none; opacity:1; }
        .vintage-prologue.dark-mode .prologue-emoji{ filter:grayscale(1) contrast(1.05); opacity:.9; }

        /* ä½è¿åŠ¨æ¨¡å¼ï¼šå…³é—­åŠ¨æ•ˆå³°å€¼ */
        @media (prefers-reduced-motion:reduce){
          *{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important }
        }
        .hidden-data-container{ display:none }
        </style>
        </head>
        <body>
          <div class="vintage-prologue" id="prologue-container">
            <!-- âœ¨ æ›¿æ¢è¯´æ˜ï¼š
                 ç›´æ¥æŠŠä¸‹é¢æŒ‰é’®æ–‡æœ¬é‡Œçš„â€œğŸâ€æ¢æˆä»»æ„ emojiï¼ˆå¦‚ ğŸ‹ / ğŸŒ™ / â˜€ï¸ï¼‰ï¼Œæ— éœ€ä¿®æ”¹ JS æˆ– CSSã€‚ -->
            <button id="prologue-theme-btn" class="prologue-emoji" aria-label="åˆ‡æ¢ä¸»é¢˜" title="åˆ‡æ¢ä¸»é¢˜">ğŸ</button>

            <div class="content">
              <div class="main-text" id="main-text-container"></div>
              <p class="source-text" id="prologue-source"></p>
            </div>
          </div>

          <div id="prologue-raw-data" class="hidden-data-container">$1</div>

        <script>
        document.addEventListener('DOMContentLoaded',function(){
        'use strict';
        const card = document.getElementById('prologue-container');
        const raw  = document.getElementById('prologue-raw-data');
        const main = document.getElementById('main-text-container');
        const src  = document.getElementById('prologue-source');
        const btn  = document.getElementById('prologue-theme-btn');

        if([card,raw,main,src,btn].some(el=>!el)){
          console.error('åºè¨€ç»„ä»¶åˆå§‹åŒ–å¤±è´¥ï¼šç¼ºå°‘å¿…è¦çš„HTMLå…ƒç´ ã€‚'); return;
        }

        /* è§£æä¿æŒåŸé€»è¾‘ */
        function splitLines(s){
          return s ? s.trim().split('\n')
            .map(v=>v.trim().replace(/^(["â€œã€Œ])(.*)\1$/,'$2'))
            .filter(Boolean) : [];
        }
        function parsePrologue(s){
          if(!s || !s.trim()) return null;
          const lines = s.trim().split('\n');
          const last  = lines[lines.length-1]?.trim()||'';
          let source  = '', body = s.trim();
          if(/^[â€”â€•â”€-]/.test(last)){
            source = last.replace(/^[â€”â€•â”€-]\s*/,'');
            lines.pop(); body = lines.join('\n').trim();
          }
          const parts = body.split(/<hr\s*\/?>/i);
          const a = parts[0], b = parts[1];
          return b ? { originalLines: splitLines(a), translationLines: splitLines(b), source }
                   : { originalLines: [],       translationLines: splitLines(a), source };
        }
        function render(){
          const html = raw.innerHTML;
          const data = parsePrologue(html);
          main.innerHTML = '';
          if(html && data && (data.originalLines.length || data.translationLines.length)){
            if(data.originalLines.length){
              const p = document.createElement('p');
              p.className = 'original-line';
              p.textContent = `"${data.originalLines.join(' ')}"`;
              main.appendChild(p);
            }
            if(data.translationLines.length){
              const p = document.createElement('p');
              p.className = 'translation-line';
              p.textContent = `ã€Œ${data.translationLines.join(' ')}ã€`;
              main.appendChild(p);
            }
            src.textContent = data.source ? `â€” ${data.source}` : '';
          }else{
            main.innerHTML = '<p class="translation-line">...</p>';
            src.textContent = '';
          }
        }

        /* â€”â€”â€” ä¸æ»‘ä¸»é¢˜åˆ‡æ¢ â€”â€”â€” */
        const TWEEN_MS = 420; // è¿‡æ¸¡å³°å€¼æ—¶é—´ï¼ˆå¯æŒ‰å–œå¥½å¾®è°ƒï¼‰

        function applyTheme(mode){
          const dark = mode === 'dark';
          card.classList.toggle('dark-mode', dark);
          localStorage.setItem('prologueTheme', mode);
        }

        function toggleTheme(){
          // å…ˆåŠ â€œthemingâ€åšä¸€ä¸ªè½»å¾®ç¼“å†²ï¼Œè®©è¿‡æ¸¡æ›´æŸ”å’Œ
          card.classList.add('theming');
          btn.classList.add('pop');

          // åœ¨ä¸‹ä¸€å¸§åˆ‡æ¢ä¸»é¢˜ï¼Œé¿å…åŒæ­¥æ ·å¼æŠ–åŠ¨
          requestAnimationFrame(()=>{
            const next = card.classList.contains('dark-mode') ? 'light' : 'dark';
            applyTheme(next);

            // è¿‡æ¸¡ç»“æŸåç§»é™¤ç¼“å†²ç±»
            setTimeout(()=>{
              card.classList.remove('theming');
              btn.classList.remove('pop');
            }, TWEEN_MS);
          });
        }

        card.addEventListener('click', (e)=>{
          // é¿å…ç‚¹å‡»æŒ‰é’®æ—¶å†’æ³¡å¯¼è‡´äºŒæ¬¡è§¦å‘
          if(e.target === btn) return;
          toggleTheme();
        });
        btn.addEventListener('click', (e)=>{ e.stopPropagation(); toggleTheme(); });

        // åˆå§‹åŒ–ä¸»é¢˜
        applyTheme(localStorage.getItem('prologueTheme') ?? 'light');

        /* åŠ¨æ€æ•°æ®ç›‘å¬ */
        new MutationObserver(render).observe(raw,{childList:true,characterData:true,subtree:true});
        render();
        });
        </script>
        </body></html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 5
    - id: dcc5e785-d99c-42a3-bc91-77e1d7892aee
      script_name: MoMç¾åŒ–-[10]é¡¶éƒ¨çŠ¶æ€æ å¤œé—´ç‰ˆ@ç”µæ³¢ç³»@maru
      å¯ç”¨: false
      find_regex: â—¸(.*?)<(.*?)>(.*?)ï½œ(.*?)â—¹
      replace_string: |-
        ```html
        <!DOCTYPE html>
        <html lang="zh">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>åœºæ™¯çŠ¶æ€é¢æ¿</title>
            <style>
                /* --- å­—ä½“å¼•å…¥ --- */
                @import url("https://fontsapi.zeoseven.com/110/main/result.css"); /* ç§‘å¹»: ç‚¹ç‚¹åƒç´ ä½“-æ–¹å½¢ */
                @import url("https://fontsapi.zeoseven.com/88/main/result.css"); /* ç°ä»£: MaokenZhuyuanTi */
                @import url("https://fontsapi.zeoseven.com/2/main/result.css"); /* å¤é£: LXGW ZhenKai */

                *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
                body { padding: 10px; }

                .dynamic-status-container {
                    width: 100%;
                    max-width: 480px;
                    margin: 12px auto;
                    display: none;
                }
                .dynamic-status-container.style-scifi,
                .dynamic-status-container.style-present,
                .dynamic-status-container.style-olden {
                    display: block;
                }

                .status-bar-content {
                    padding: 10px 18px;
                    border-radius: 12px;
                    font-size: 0.9em;
                    position: relative;
                    overflow: hidden;
                }

                /* æ–œçº¿çº¹ç†èƒŒæ™¯ */
                .status-bar-content::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: repeating-linear-gradient(
                        45deg,
                        rgba(0, 0, 0, 0.02),
                        rgba(0, 0, 0, 0.02) 2px,
                        transparent 2px,
                        transparent 4px
                    );
                    z-index: -1;
                    pointer-events: none;
                }

                .line-1, .line-2, .line-3 {
                    display: block;
                }

                /*
                ========================================
                ç§‘å¹» (Sci-Fi) é£æ ¼ <scifi>
                ========================================
                */
                .style-scifi .status-bar-content {
                    --dark-gray: #1a1a1a; --mid-gray: #2d2d2d; --light-gray: #444; --white: #e6e6e6;
                    font-family: "ç‚¹ç‚¹åƒç´ ä½“-æ–¹å½¢", sans-serif;
                    background-color: var(--dark-gray);
                    border: 1px solid var(--light-gray);
                    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
                    color: var(--white);
                }
                .style-scifi .status-bar-content::after {
                    content: ''; position: absolute; top: -100%; left: 0; width: 100%; height: 100%;
                    background: linear-gradient(to bottom, transparent 0%, rgba(255, 255, 255, 0.1) 50%, transparent 100%);
                    opacity: 0.1; animation: scifi-scanline 4s linear infinite;
                }
                @keyframes scifi-scanline { to { top: 100%; } }
                .style-scifi .line-1 {
                    font-size: 1em;
                    color: var(--white);
                    text-align: center;
                    letter-spacing: 1px;
                    font-weight: normal;
                    padding-bottom: 8px;
                    border-bottom: 1px solid transparent;
                    border-image: linear-gradient(to right, transparent, var(--light-gray) 50%, transparent) 1;
                }
                .scifi-icon {
                    width: 1em; height: 1em; flex-shrink: 0; background-color: var(--white);
                    mask-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTIgMkM4LjEzIDIgNSA1LjEzIDUgOWMwIDUuMjUgNyAxMyA3IDEzczctNy43NSA3LTEzYzAtMy44Ny0zLjEzLTctNy03em0wIDkuNWMtMS4zOCAwLTIuNS0xLjEyLTIuNS0yLjVzMS4xMi0yLjUgMi41LTIuNSAyLjUgMS4xMiAyLjUgMi41LTEuMTIgMi41LTIuNSAyLjV6Ii8+PC9zdmc+');
                    mask-size: contain; mask-repeat: no-repeat; mask-position: center;
                    display: inline-block;
                    vertical-align: middle;
                }
                .style-scifi .line-2 {
                    font-size: 0.9em; color: var(--white); text-align: center;
                    padding: 8px 0; border-bottom: 1px dashed var(--light-gray);
                    font-weight: normal;
                    display: flex; justify-content: center; align-items: center; gap: 10px;
                }
                .style-scifi .line-3 {
                    font-size: 0.85em; font-style: italic; color: #aaa;
                    margin-top: 8px; text-align: center;
                    animation: scifi-text-flicker 5s infinite;
                }
                .style-scifi .line-3::before { content: 'SYS_LOG: '; }
                @keyframes scifi-text-flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }

                /*
                ========================================
                ç°ä»£ (Present) é£æ ¼
                ========================================
                */
                .style-present .status-bar-content {
                    --dark-gray: #2d2d2d; --mid-gray: #3d3d3d; --light-gray: #555; --white: #e6e6e6;
                    font-family: "MaokenZhuyuanTi", sans-serif;
                    background: linear-gradient(145deg, var(--mid-gray), var(--dark-gray));
                    border: 1px solid var(--light-gray);
                    box-shadow: 2px 3px 10px rgba(0, 0, 0, 0.3), inset 0 0 10px rgba(0, 0, 0, 0.2);
                    color: var(--white); text-align: center;
                }
                .style-present .line-1 {
                    font-size: 1em; font-weight: normal; color: var(--white);
                    text-shadow: 0 1px 2px rgba(0,0,0,0.3); margin-bottom: 12px;
                }
                .style-present .line-2 {
                    display: flex; justify-content: center; align-items: center;
                    flex-wrap: wrap; gap: 10px; margin-bottom: 12px;
                }
                .present-tag {
                    padding: 5px 15px; border-radius: 20px; font-size: 0.9em; font-weight: normal;
                    color: var(--white); text-shadow: 0 1px 3px rgba(0,0,0,0.3);
                    border: 1px solid var(--light-gray);
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
                    transition: all 0.2s ease;
                }
                .present-tag:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); }
                .present-tag.location-tag { background: linear-gradient(135deg, #555, #444); }
                .present-tag.env-tag { background: linear-gradient(135deg, #666, #555); }
                .style-present .line-3 {
                    font-size: 0.85em; color: #aaa; font-style: italic; padding-top: 10px;
                    border-top: 1px solid transparent;
                    border-image: linear-gradient(90deg, transparent, var(--light-gray), transparent) 1;
                }
                .style-present .line-3::before { content: 'ğŸ’­ '; }

                /*
                ========================================
                å¤é£ (Olden) é£æ ¼
                ========================================
                */
                .style-olden .status-bar-content {
                    --dark-gray: #2d2d2d; --paper-gray: #3d3d3d; --light-gray: #888; --white: #e6e6e6;
                    font-family: "LXGW ZhenKai", serif;
                    font-weight: normal;
                    background-color: var(--paper-gray);
                    border: 1px solid var(--dark-gray);
                    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
                    color: var(--white);
                    position: relative;
                    padding: 12px 20px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    min-height: 95px;
                }
                .style-olden .status-bar-content::before {
                    content: 'è¨˜'; font-family: 'Ma Shan Zheng', cursive; position: absolute; top: 8px; right: 8px;
                    width: 25px; height: 25px; background-color: var(--dark-gray); color: var(--white);
                    font-size: 16px; display: flex; justify-content: center; align-items: center; border-radius: 2px;
                }
                .style-olden .line-1 {
                    font-size: 0.9em;
                    color: var(--light-gray);
                    text-align: center; margin-bottom: 6px;
                }
                .style-olden .line-2 {
                    font-size: 1.1em; font-weight: normal; color: var(--white);
                    text-align: center; margin-bottom: 6px;
                }
                .style-olden .line-3 {
                    font-size: 0.9em; color: var(--light-gray);
                    text-align: center; font-style: italic;
                }
                .style-olden .line-3::before { content: 'â€” '; }
                .style-olden .line-3::after { content: ' â€”'; }

                /* åº•éƒ¨è£…é¥° */
                .status-bar-content::after {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    height: 2px;
                    background: linear-gradient(90deg, transparent, var(--light-gray), transparent);
                    animation: bottom-glow 3s ease-in-out infinite;
                }

                @keyframes bottom-glow {
                    0%, 100% { opacity: 0.5; }
                    50% { opacity: 1; }
                }
            </style>
        </head>
        <body>
            <div class="dynamic-status-container" id="statusBar">
                <div class="status-bar-content">
                    <div class="line-1">
                        <span class="text-content">$1</span>
                    </div>
                    <div class="line-2">
                        <span class="scifi-icon"></span>
                        <span class="text-content">$3</span>
                    </div>
                    <div class="line-3">
                        <span class="text-content">$4</span>
                    </div>
                </div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const statusBar = document.getElementById('statusBar');
                    if (statusBar) {
                        const styleTag = '$2';
                        if (styleTag) {
                            statusBar.classList.add(`style-${styleTag}`);

                            if (styleTag === 'present') {
                                const line2Container = statusBar.querySelector('.line-2');
                                const line2Text = line2Container.querySelector('.text-content');
                                if (line2Text) {
                                    const parts = line2Text.textContent.split('Â·');
                                    const location = parts[0] ? parts[0].trim() : '';
                                    const environment = parts[1] ? parts[1].trim() : '';
                                    let newHtml = '';
                                    if (location) newHtml += `<span class="present-tag location-tag">${location}</span>`;
                                    if (environment) newHtml += `<span class="present-tag env-tag">${environment}</span>`;
                                    line2Container.innerHTML = newHtml;
                                }
                            }
                        }
                    }
                });
            </script>
        </body>
        </html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 5
    - id: 57c07981-6fec-4762-b1be-0cf7dcf9fab5
      script_name: MoMç¾åŒ–-[11]æ‘˜è¦å¹½çµæ¨¡å¼@fawn(1010)
      å¯ç”¨: true
      find_regex: /<meow_FM>\s+serial[:ï¼š](.+?)\s*time[:ï¼š](.+?)\s*scene[:ï¼š](.+?)\s*plot[:ï¼š](.+?)\s*(?:seeds[:ï¼š]\s?(.+?))?\s*</[^bp>]*>/si
      replace_string: |-
        <div class="meow-fm-ghost" style="font-family: inherit; max-width: 100%; margin: 2px 0; color: inherit; line-height: 1.4; opacity: 0.85;">
          <details style="border: none; display: inline-block; width: 100%;">
            <summary style="list-style: none; cursor: pointer; padding: 1px 0; display: flex; justify-content: space-between;">
              <span style="font-size: 0.95em;">$1</span>
              <span style="font-size: 0.85em; opacity: 0.6;">$2</span>
            </summary>
            <div style="padding: 2px 0 0 8px; border-left: 1px dotted rgba(0,0,0,0.1); margin-left: 4px;">
              <div style="margin: 3px 0; font-size: 0.92em;">
                <span style="opacity: 0.7;">â†’ </span>$3
              </div>
              <div style="margin-bottom: 4px; font-size: 0.9em; line-height: 1.5;">
                $4
              </div>
              <details style="border: none;">
                <summary style="list-style: none; cursor: pointer; font-size: 0.85em; opacity: 0.6; padding: 0 0 1px 0;">
                  <span>Â·Â·Â·</span>
                </summary>
                <div style="font-size: 0.86em; line-height: 1.4; padding-left: 8px;">
                  <ul style="margin: 2px 0; padding-left: 12px; list-style-type: none;">$5</ul>
                </div>
              </details>
            </div>
          </details>
          <div style="font-size: 0.7em; opacity: 0.4; text-align: right; padding-top: 1px;">
            à¸…^â€¢ï»Œâ€¢^à¸…
          </div>
        </div>
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: null
    - id: e6887c3b-5b33-4be9-8d38-b748f4394ec4
      script_name: MoMç¾åŒ–-[11]æ–°ç‰ˆæ‘˜è¦åŒè‰²ç‰ˆ@KKM(1010)
      å¯ç”¨: false
      find_regex: /<meow_FM>\s+serial[:ï¼š](.+?)\s*time[:ï¼š](.+?)\s*scene[:ï¼š](.+?)\s*plot[:ï¼š](.+?)\s*(?:seeds[:ï¼š]\s?(.+?))?\s*</[^bp>]*>/si
      replace_string: |-
        ```html
        <!DOCTYPE html><html lang="zh-CN"><head>
        <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="color-scheme" content="light dark">
        <title>Meow FM - å¡ç‰‡æ ·å¼</title>
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Allura&family=Caveat:wght@400..700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fontsapi.zeoseven.com/157/main/result.css">
        <style>
        @import url("https://fontsapi.zeoseven.com/7/main/result.css");
        @import url("https://fontsapi.zeoseven.com/477/main/result.css");

        /* ===== Vars ===== */
        :root{
          --outer-font:"TsangerXWZ","Microsoft YaHei",sans-serif;
          --main-font:"Zhuque Fangsong (technical preview)","Microsoft YaHei",sans-serif;
          --header-font:'Allura',cursive;

          --container-width:600px; --border-radius:16px;
          --base-font-size:1.1em; --content-font-size:1.06em; --header-font-size:1.8em;

          /* Light */
          --paper-fallback-color:#faf8f3; --text-color:rgba(35,45,60,.86);
          --header-text-color:#677b8f; --divider-color:rgba(120,130,140,.12);
          --glow-color:rgba(255,205,120,.65);            /* å‘å…‰ä¸»è‰²ï¼ˆæµ…è‰²ï¼‰ */
          --blend-color:#f4efe6; --item-bg:rgba(255,255,255,.48);
          --item-hover-bg:rgba(255,255,255,.72); --item-border:rgba(160,165,170,.18);
          --blend-opacity:.11; --noise-opacity:.035; --fiber-opacity:.06;
          --base-shadow:0 10px 30px rgba(0,0,0,.08),0 5px 15px rgba(0,0,0,.05);
          --inner-shadow:0 2px 10px rgba(0,0,0,.05);

          --transition-speed:.3s; --collapse-speed:.6s; --theme-change-speed:.8s;
          --easing:cubic-bezier(.4,0,.2,1);
          --paper-bg-image:url('https://i.postimg.cc/DZbjkx5J/meow.png');

          /* Text glow tuning */
          --glow-strength-base:.28;        /* å¸¸æ€ */
          --glow-strength-hover:.8;        /* æ‚¬åœ */
          --text-scale-hover:1.012; --letterspace-hover:.03em;

          /* Pulse tuningï¼ˆæ›´æš—æ›´å°ï¼‰ */
          --pulse-alpha:.35;               /* æ˜åº¦ä¸‹é™ */
          --pulse-alpha2:.28;
          --pulse-scale:18;                /* ç»ˆç‚¹ç¼©å° */
          --pulse-duration:.7s;            /* ç¼©çŸ­æ—¶é•¿ */
        }

        /* Dark overrides */
        .card-container.dark-mode{
          --paper-fallback-color:#1e232a; --text-color:rgba(245,240,220,.93);
          --header-text-color:rgba(187,199,212,.9); --divider-color:rgba(255,255,255,.09);
          --glow-color:rgba(120,200,255,.65);       /* å‘å…‰ä¸»è‰²ï¼ˆæ·±è‰²åå†·ï¼‰ */
          --blend-color:#181d23; --item-bg:rgba(255,255,255,.06);
          --item-hover-bg:rgba(255,255,255,.12); --item-border:rgba(255,255,255,.1);
          --blend-opacity:.24; --noise-opacity:.032; --fiber-opacity:.07;
          --base-shadow:0 10px 40px rgba(0,0,0,.32),0 5px 20px rgba(0,0,0,.22);
          --inner-shadow:0 2px 10px rgba(0,0,0,.22);
        }

        /* ===== Layout ===== */
        body{display:flex;justify-content:center;margin:0;padding:0;font:normal var(--base-font-size)/1.6 var(--main-font);color:var(--text-color);transition:color var(--theme-change-speed) ease}
        .card-container{
          width:var(--container-width);max-width:calc(100% - 32px);margin:16px auto;padding:1.25em 1.25em 1.45em;
          position:relative;overflow:hidden;cursor:pointer;color:var(--text-color);
          background:var(--paper-fallback-color) var(--paper-bg-image) left top/auto repeat; background-blend-mode:multiply;
          border-radius:var(--border-radius);box-shadow:0 4px 8px var(--base-shadow);
          transition:transform var(--transition-speed) var(--easing),box-shadow var(--transition-speed) var(--easing),background-color var(--theme-change-speed) ease,color var(--theme-change-speed) ease;
          isolation:isolate;box-sizing:border-box
        }
        .card-container.dark-mode{background-blend-mode:soft-light}
        .card-container::before,.card-container::after{content:"";position:absolute;inset:0;z-index:1;border-radius:inherit;pointer-events:none}
        .card-container::before{background:
          radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,var(--fiber-opacity)) 0, rgba(0,0,0,0) 70%),
          radial-gradient(90% 120% at 100% 20%, rgba(0,0,0,calc(var(--fiber-opacity)*.7)) 0, rgba(0,0,0,0) 65%),
          linear-gradient(180deg, rgba(255,255,255,0) 0%, var(--blend-color) 100%);
          opacity:var(--blend-opacity);transition:background-color var(--theme-change-speed) ease,opacity var(--theme-change-speed) ease}
        .card-container::after{background-image:
          repeating-linear-gradient(0deg,rgba(0,0,0,.028) 0 1px,transparent 1px 2px),
          repeating-linear-gradient(90deg,rgba(0,0,0,.022) 0 1px,transparent 1px 2px);
          opacity:var(--noise-opacity)}
        .card-container:hover{box-shadow:0 4px 8px var(--base-shadow)} /* å›ºå®šï¼Œä¸å¢å¼º */

        .card-header{
          display:flex;justify-content:space-between;align-items:center;margin:0 -.4em .4em; padding:0 .6em 1.1em;
          border-bottom:2px dashed var(--divider-color);color:var(--header-text-color);user-select:none;position:relative;z-index:2;
          transition:color var(--theme-change-speed) ease,border-color var(--theme-change-speed) ease
        }

        /* ===== Pulse (dimmer) ===== */
        .serial-switch-wrapper{position:relative;padding:14px 18px 10px;margin:-14px -18px -10px;border-radius:12px;cursor:pointer}
        .serial-switch-wrapper::after{
          content:"";position:absolute;left:50%;top:50%;width:16px;height:16px;border-radius:999px;pointer-events:none;z-index:3;
          transform:translate(-50%,-50%) scale(0);opacity:0;filter:blur(.6px);
          background:radial-gradient(circle, rgba(255,211,77,var(--pulse-alpha)) 0%, rgba(255,211,77,var(--pulse-alpha2)) 35%, rgba(255,211,77,0) 70%)
        }
        .card-container.pulse-dark .serial-switch-wrapper::after{
          background:radial-gradient(circle, rgba(89,196,255,var(--pulse-alpha)) 0%, rgba(89,196,255,var(--pulse-alpha2)) 35%, rgba(89,196,255,0) 70%)
        }
        @keyframes pulseRing{to{transform:translate(-50%,-50%) scale(var(--pulse-scale));opacity:0;box-shadow:0 0 0 24px rgba(255,255,255,0)}}
        .card-container.pulse-light .serial-switch-wrapper::after,
        .card-container.pulse-dark  .serial-switch-wrapper::after{animation:pulseRing var(--pulse-duration) ease-out forwards}

        /* ===== Text glow (è½»é‡) ===== */
        .serial,.time span{position:relative;display:inline-block;padding-right:3px;background-image:linear-gradient(var(--header-text-color),var(--header-text-color));color:transparent;-webkit-background-clip:text;background-clip:text}
        .serial{font-family:var(--header-font);font-size:var(--header-font-size);font-weight:700;letter-spacing:.02em;transition:transform .25s var(--easing),letter-spacing .25s var(--easing)}
        .time{font-size:1.08em;font-style:italic;opacity:.92;line-height:1.25}
        .time span{transition:transform .25s var(--easing),letter-spacing .25s var(--easing)}
        .serial::before,.time span::before{
          content:attr(data-text);position:absolute;inset:0;pointer-events:none;white-space:pre-wrap;
          background-image:radial-gradient(circle at 50% 55%, var(--glow-color) 0%, rgba(255,255,255,0) 55%);
          mix-blend-mode:screen;opacity:var(--glow-strength-base);-webkit-background-clip:text;background-clip:text;color:transparent;transition:opacity .25s var(--easing)
        }
        .serial-switch-wrapper:hover .serial{transform:scale(var(--text-scale-hover));letter-spacing:var(--letterspace-hover)}
        .card-container:hover .time span{transform:scale(var(--text-scale-hover));letter-spacing:var(--letterspace-hover)}
        .serial-switch-wrapper:hover .serial::before,.card-container:hover .time span::before{opacity:var(--glow-strength-hover)}

        /* ===== Content blocks ===== */
        .card-collapsible,.seeds-collapsible{display:grid;grid-template-rows:0fr;transition:grid-template-rows var(--collapse-speed) var(--easing)}
        .card-collapsible.open,.seeds-container.open .seeds-collapsible{grid-template-rows:1fr}
        .collapsible-inner{overflow:hidden}

        .scene,.plot{
          margin-bottom:18px;padding:14px 16px;border-radius:14px;border:1px solid var(--item-border);
          background:var(--item-bg);backdrop-filter:blur(5px);box-shadow:var(--inner-shadow);
          transition:background-color var(--transition-speed) var(--easing),border-color var(--transition-speed) var(--easing)
        }
        .scene:hover,.plot:hover{background:var(--item-hover-bg)}
        .scene .content-wrapper,.plot .content-wrapper{transition:transform .25s ease}
        .scene:hover .content-wrapper,.plot:hover .content-wrapper{transform:translateY(2px)}

        /* æ ‡é¢˜ï¼ˆä¸è¡¨å±‚åŒå­—ä½“ outer-fontï¼‰+ è½»å¾®å‘å…‰ */
        .scene-label,.plot-label,.seeds-summary{
          font-family:var(--outer-font);display:inline-block;margin:0 0 10px;color:var(--header-text-color);
          font-size:1.22em;letter-spacing:.02em;position:relative;padding-bottom:4px;text-decoration:none;
          transition:transform .25s var(--easing),letter-spacing .25s var(--easing)
        }
        .scene-label::after,.plot-label::after,.seeds-summary::after{content:"";position:absolute;left:0;bottom:0;height:2px;width:100%;background:linear-gradient(90deg,transparent,var(--glow-color),transparent);opacity:.7}
        .scene-label::before,.plot-label::before,.seeds-summary::before{
          content:attr(data-text);position:absolute;inset:0;pointer-events:none;
          background-image:radial-gradient(circle at 50% 55%, var(--glow-color) 0%, rgba(255,255,255,0) 60%);
          mix-blend-mode:screen;opacity:.22;-webkit-background-clip:text;background-clip:text;color:transparent;transition:opacity .25s var(--easing)
        }
        .scene-label:hover,.plot-label:hover,.seeds-summary:hover{transform:scale(1.01);letter-spacing:.025em}
        .scene-label:hover::before,.plot-label:hover::before,.seeds-summary:hover::before{opacity:.7}

        /* Secret */
        .seeds-container{margin-top:18px;border:1px dashed var(--divider-color);padding:16px;border-radius:14px;transition:border-color var(--theme-change-speed) ease}
        .seeds-container:hover{border-color:var(--header-text-color)}
        .seeds-summary{color:var(--text-color);opacity:.96;cursor:pointer;user-select:none;transition:color var(--transition-speed) var(--easing),opacity var(--transition-speed) var(--easing)}
        .seeds-summary:hover{color:var(--header-text-color);opacity:1}
        .seeds-summary::marker{content:none}
        .seeds-summary:before{content:'â–¸ ';position:relative;left:-2px}
        .seeds-container.open .seeds-summary:before{color:#5aacac;transform:rotate(90deg)}
        .seeds-content{padding:0 0 10px 12px;border-left:2px solid rgba(90,172,172,.5);margin-left:2.3px;font-size:var(--content-font-size);line-height:1.6}

        /* Reduce motion */
        @media (prefers-reduced-motion:reduce){
          *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important;transform:none !important;letter-spacing:normal !important}
          .serial::before,.time span::before,.scene-label::before,.plot-label::before,.seeds-summary::before{opacity:.45 !important}
        }
        </style>
        </head>
        <body>
          <div class="card-container" id="meow-fm-card">
            <header class="card-header">
              <div class="time">â€” $2 â€”</div>
              <div class="serial-switch-wrapper"><div class="serial" data-text="$1">$1</div></div>
            </header>

            <div class="card-collapsible" id="collapsible-content">
              <div class="collapsible-inner">
                <div class="scene">
                  <div class="content-wrapper">
                    <span class="scene-label" data-text="Scene">Scene</span>
                    <div class="scene-content">$3</div>
                  </div>
                </div>
                <div class="plot">
                  <div class="content-wrapper">
                    <span class="plot-label" data-text="Plot">Plot</span>
                    <div class="plot-content">$4</div>
                  </div>
                </div>
                <div class="seeds-container" id="secret-container">
                  <div class="seeds-summary" id="secret-toggle" data-text="Secret">Secret</div>
                  <div class="seeds-collapsible"><div class="collapsible-inner"><div class="seeds-content">$5</div></div></div>
                </div>
              </div>
            </div>
          </div>

        <script>
        document.addEventListener("DOMContentLoaded",()=>{
          const card = document.getElementById("meow-fm-card");
          const switcher = card.querySelector(".serial-switch-wrapper");
          const collaps  = document.getElementById("collapsible-content");
          const secretCt = document.getElementById("secret-container");
          const secretTg = document.getElementById("secret-toggle");
          const scene    = card.querySelector(".scene");
          const plot     = card.querySelector(".plot");
          const timeEl   = card.querySelector(".time");

          // æ—¶é—´è¡Œæ¢è¡Œç¬¦ â†’ <br>ï¼ˆä¿ç•™ â€” â€¦ â€”ï¼‰
          if(timeEl){
            const raw = timeEl.textContent.trim().replace(/^â€”\s*|\s*â€”$/g,"");
            const brk = /[â˜†â¤â™¡\|ï½œ]/g;
            const html = raw.replace(brk,"<br>");
            const txt  = raw.replace(brk,"\n");
            timeEl.innerHTML = `<span data-text="â€” ${txt} â€”">â€” ${html} â€”</span>`;
          }

          // ä¸»é¢˜åˆ‡æ¢ + è„‰å†²ï¼ˆæ›´æš—ï¼‰
          const applyTheme = (m)=>{
            const dark = (m==="dark");
            card.classList.toggle("dark-mode",dark);
            localStorage.setItem("meowFmTheme",m);
            card.classList.remove("pulse-light","pulse-dark"); void card.offsetWidth;
            card.classList.add(dark?"pulse-dark":"pulse-light");
            setTimeout(()=>card.classList.remove("pulse-light","pulse-dark"), 800);
          };
          switcher.addEventListener("click",(e)=>{
            e.stopPropagation();
            applyTheme(card.classList.contains("dark-mode")?"light":"dark");
          });
          applyTheme(localStorage.getItem("meowFmTheme")||"light");

          // æŠ˜å ï¼šç‚¹å‡»ç©ºç™½åŒºåŸŸæ‰æŠ˜å 
          card.addEventListener("click",(e)=>{
            const hit = [secretCt,switcher,scene,plot].some(el=>el && el.contains(e.target));
            if(!hit) collaps.classList.toggle("open");
          });
          secretTg?.addEventListener("click",(e)=>{ e.stopPropagation(); secretCt.classList.toggle("open"); });
        });
        </script>
        </body></html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 5
    - id: d1728df3-5b49-4172-81bd-5a375f34afe0
      script_name: MoMç¾åŒ–-[11]æ–°ç‰ˆæ‘˜è¦é€æ˜ç‰ˆ@YUKI(1010)
      å¯ç”¨: false
      find_regex: /<meow_FM>\s+serial[:ï¼š](.+?)\s*time[:ï¼š](.+?)\s*scene[:ï¼š](.+?)\s*plot[:ï¼š](.+?)\s*(?:seeds[:ï¼š]\s?(.+?))?\s*</[^bp>]*>/si
      replace_string: |-
        ```html
        <!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name=viewport content="width=device-width,initial-scale=1"><title>Meow FM</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Allura&family=Caveat:wght@400..700&display=swap" rel=stylesheet><link rel=stylesheet href=https://fontsapi.zeoseven.com/157/main/result.css><link rel=stylesheet href=https://fontsapi.zeoseven.com/802/main/result.css><style>:root{--a:'Allura',cursive;--b:'YShi-Written',cursive;--c:600px;--d:8px;--e:1.1em;--f:1em;--g:1.8em;--h:#cac3b7;--i:rgba(255,255,255,.7);--j:rgba(255,255,255,.2);--k:rgba(0,0,0,.1);--l:rgba(237,209,140,.5);--m:.1;--n:rgba(0,0,0,.1);--o:.3s;--p:.6s;--q:rgba(104,226,226,.05);--r:.3s;--s:url('https://i.postimg.cc/DZbjkx5J/meow.png')}body{display:flex;justify-content:center;padding:2em 20px;margin:0;font-size:var(--e);font-family:var(--b);color:var(--h);background-color:transparent}.card-container{max-width:var(--c);width:100%;padding:1.5em;position:relative;overflow:hidden;cursor:pointer;color:var(--h);background-color:transparent;border-radius:var(--d);box-shadow:0 0 6px 2px var(--n)}.card-container::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;border-radius:inherit;pointer-events:none;background-image:var(--s);background-position:left top;background-repeat:repeat;opacity:var(--m)}.content-box,.seeds-container{cursor:default}.seeds-summary{cursor:pointer}.heading-font{font-family:var(--a);font-size:var(--g)}.collapsible{display:grid;grid-template-rows:0fr;transition:grid-template-rows var(--p) ease-in-out;position:relative;z-index:2}.collapsible.open{grid-template-rows:1fr}.collapsible-inner{overflow:hidden}.content-box{margin-top:20px;border:2px ridge var(--j);padding:15px;border-radius:var(--d);background-color:var(--k);transition:box-shadow .5s ease,transform .5s ease;position:relative;overflow:hidden;z-index:1}.content-box:hover{box-shadow:0 2px 6px 2px var(--n);transform:translateY(-4px)}.content-box__label{display:block;margin-bottom:8px;color:var(--i);text-decoration:underline from-font;opacity:.8}.content-box__content{font-size:var(--f);position:relative;z-index:2}@keyframes ripple{from{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-50%,-50%) scale(2);opacity:0}}.content-box::before{content:'';position:absolute;top:0;left:100%;width:100%;padding-top:100%;border-radius:50%;background-color:var(--q);transform:translate(-50%,-50%) scale(0);opacity:0;pointer-events:none;z-index:1;animation:none}.content-box:hover::before{animation:ripple var(--r) ease-out forwards}.card-header{display:flex;justify-content:space-between;align-items:center;margin-left:-.5em;margin-right:-.5em;margin-top:-1em;padding-left:.5em;padding-right:.5em;padding-top:1em;padding-bottom:1em;margin-bottom:.5em;border-top:2px dashed var(--j);border-bottom:3px dotted var(--j);color:var(--i);user-select:none;position:relative;z-index:2}.serial-switch-wrapper{padding:20px 20px 15px;margin:-20px;border-radius:8px}.serial{font-weight:bold}.time{font-size:1.2em;font-style:italic;font-family:'PING FANG SHAO HUA';opacity:.8;text-align:left;line-height:1.2}.serial,.time span,.serial::before,.time span::before{color:transparent;-webkit-background-clip:text;background-clip:text}.serial,.time span{position:relative;display:inline-block;padding-right:3px;background-image:linear-gradient(var(--i),var(--i))}.serial::before,.time span::before{content:attr(data-text);position:absolute;left:0;top:0;width:100%;height:100%;background-image:radial-gradient(circle at center,var(--l) 20%,transparent);opacity:0;transition:opacity var(--o) ease-in-out;pointer-events:none;white-space:pre-wrap}.card-container:hover .serial::before,.card-container:hover .time span::before{opacity:1}.card-container:has(.content-box:hover,.seeds-container:hover) .time span::before,.card-container:has(.content-box:hover,.seeds-container:hover) .serial::before{opacity:0}.seeds-container{margin-top:20px;border:2px dashed var(--j);padding:20px;border-radius:var(--d);background-color:var(--k);transition:border-color var(--o)}.seeds-container:hover{border-color:var(--i)}.seeds-summary{color:var(--h);opacity:.9;cursor:pointer;user-select:none;transition:color var(--p)}.seeds-summary:hover{color:var(--i)}.seeds-summary::before{content:'â–¸ ';display:inline-block;position:relative;left:-2px;transform-origin:0 50%;transform:rotate(0);animation:close-arrow-sequential .8s ease-in-out}.seeds-container.open .seeds-summary::before{color:#5aacac;animation:open-arrow .1s ease forwards}.seeds-content{padding:0 0 0 20px;border-left:2px solid rgba(90,172,172,.5);margin-left:2.3px;font-size:var(--f)}@keyframes open-arrow{from{transform:rotate(0)}to{transform:rotate(90deg);color:#5aacac}}@keyframes close-arrow-sequential{0%{transform:rotate(90deg) translateX(0);color:#5aacac}30%{transform:rotate(90deg) translateX(-8px);color:#5aacac}70%{transform:rotate(0) translateX(-8px)}100%{transform:rotate(0) translateX(0);color:var(--h)}}</style></head><body><div class=card-container id=meow-fm-card><header class=card-header><div class=time-wrapper><div class=time>â€” $2 â€”</div></div><div class=serial-switch-wrapper><div class="serial heading-font" data-text=$1>$1</div></div></header><div class=collapsible id=collapsible-content><div class=collapsible-inner><div class="content-box scene"><span class="content-box__label heading-font">Scene</span><div class=content-box__content>$3</div></div><div class="content-box plot"><span class="content-box__label heading-font">Plot</span><div class=content-box__content>$4</div></div><div class=seeds-container id=secret-container><div class="seeds-summary heading-font" id=secret-toggle>Secret</div><div class=collapsible><div class=collapsible-inner><div class=seeds-content>$5</div></div></div></div></div></div></div><script>document.addEventListener('DOMContentLoaded',function(){const a=document.getElementById('meow-fm-card');if(!a)return;const b=a.querySelector('.time'),c=document.getElementById('collapsible-content'),d=document.getElementById('secret-container'),e=document.getElementById('secret-toggle'),f=a.querySelectorAll('.content-box');function g(l){if(!l||!l.textContent)return;const m=l.textContent.trim().replace(/^â€”\s*|\s*â€”$/g,''),n=/[â˜†â¤â™¡\|ï½œ]/g,o=m.replace(n,'<br>'),p=m.replace(n,'\n');l.innerHTML='';const q=document.createElement('span');q.innerHTML=`â€” ${o} â€”`,q.setAttribute('data-text',`â€” ${p} â€”`),l.appendChild(q)}function h(l){const{card:m,content:n,sContainer:o,sToggle:p,interactive:q}=l;if(!m||!n)return;m.addEventListener('click',r=>{const s=[...q].some(t=>t&&t.contains(r.target))||o&&o.contains(r.target);s||n.classList.toggle('open')}),o&&p&&p.addEventListener('click',()=>{const r=o.querySelector('.collapsible');o.classList.toggle('open'),r.classList.toggle('open')})}g(b),h({card:a,content:c,sContainer:d,sToggle:e,interactive:f})})</script></body></html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 5
    - id: bf5f4353-d754-455f-8dc5-fcbe208aceb3
      script_name: MoMç¾åŒ–-[12]é€æ˜è¶…çº§å–µå–µé€‰æ‹©å™¨@YUKI
      å¯ç”¨: true
      find_regex: <branches>\s+(?:<details>[\s\S]*?</summary>\s*)?([\s\S]+?)(?:</details>\s*)?</branches>
      replace_string: |-
        ```html
        <!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>é€‰é¡¹ç¾åŒ–</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Allura&family=Caveat:wght@400..700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://fontsapi.zeoseven.com/802/main/result.css"><style>:root{--main-font:'YShi-Written',cursive;--header-font:'Allura',cursive;--container-width:550px;--border-radius:4px;--base-font-size:1.1em;--header-font-size:2em;--text-color:#cac3b7;--header-text-color:rgba(255,255,255,0.6);--divider-color:rgba(255,255,255,0.2);--glow-color:rgba(237,209,140,0.5);--inner-bg-color:rgba(0,0,0,0.1);--bg-texture-opacity:0.1;--base-shadow-color:rgba(0,0,0,0.15);--transition-speed:0.3s;--collapse-speed:0.6s;--theme-change-speed:0.8s;--ripple-color:rgba(104,226,226,0.05);--ripple-duration:0.3s;--paper-bg-image:url('https://i.postimg.cc/DZbjkx5J/meow.png')}body{display:flex;justify-content:center;padding:2em 20px;margin:0;font-family:var(--main-font);font-size:var(--base-font-size);line-height:1.2;color:var(--text-color);background-color:transparent;transition:color var(--theme-change-speed) ease}.post-it-container{max-width:var(--container-width);width:100%;position:relative;padding:3.5em .8em 1.5em;cursor:pointer;color:var(--text-color);background-color:transparent;border-radius:var(--border-radius);box-shadow:0 0 6px 2px var(--base-shadow-color);transition:transform var(--transition-speed) ease,color var(--theme-change-speed) ease}.post-it-container::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;border-radius:inherit;pointer-events:none;background-image:var(--paper-bg-image);background-position:left top;background-repeat:repeat;opacity:var(--bg-texture-opacity);box-shadow:inset 0 0 2px var(--text-color);transition:box-shadow var(--theme-change-speed) ease,opacity var(--theme-change-speed) ease}.corner-text{position:absolute;z-index:3;font-family:var(--header-font);font-size:var(--header-font-size);color:var(--header-text-color);user-select:none;text-shadow:0 0 2px transparent;transition:text-shadow var(--theme-change-speed) ease,color var(--theme-change-speed) ease}.cat-kaomoji{bottom:10px;left:50%;transform:translateX(-50%);font-family:Sans-Serif;font-size:15px;color:rgba(255,255,255,0.25)}.corner-info{top:20px;left:50%;transform:translateX(-50%);white-space:nowrap}.post-it-container:hover .corner-text{text-shadow:-1px -1px 4px var(--glow-color),1px 1px 4px var(--glow-color)}.post-it-collapsible{display:grid;grid-template-rows:0fr;transition:grid-template-rows var(--collapse-speed) ease-out;position:relative;z-index:2}.post-it-collapsible.open{grid-template-rows:1fr}.content-wrapper{overflow:hidden;min-height:0;padding-top:1em;border-top:2px dashed var(--divider-color);transition:border-color var(--theme-change-speed) ease}.post-it-collapsible.open .content-wrapper{overflow:visible;transition:overflow 0s linear var(--collapse-speed)}#options-container{padding-bottom:.5em}.clickable-text{cursor:pointer;padding:.75em;border-radius:4px;margin-bottom:.5em;border:2px ridge var(--divider-color);box-shadow:0 0 1px rgba(0,0,0,0.2);background-color:var(--inner-bg-color);opacity:0;pointer-events:none;position:relative;overflow:hidden;z-index:1;transition:opacity var(--theme-change-speed) ease-out .4s,transform .4s ease,box-shadow .4s ease,border-color var(--theme-change-speed) ease,background-color var(--theme-change-speed) ease}.post-it-collapsible.open .clickable-text{opacity:1;pointer-events:auto}.post-it-collapsible.open .clickable-text:hover{box-shadow:0 4px 8px rgba(0,0,0,0.2);transform:translate(10%,-4px);z-index:5}ul,li{list-style-type:none;padding-left:0;margin:0}.clickable-text li{position:relative;z-index:2}@keyframes ripple{from{transform:translate(-50%,-50%) scale(0);opacity:1}to{transform:translate(-50%,-50%) scale(2.5);opacity:0}}.clickable-text::before{content:'';position:absolute;top:0;left:100%;width:100%;padding-top:100%;border-radius:50%;background-color:var(--ripple-color);transform:translate(-50%,-50%) scale(0);opacity:0;pointer-events:none;z-index:1;animation:none}.post-it-collapsible.open .clickable-text:hover::before{animation:ripple var(--ripple-duration) ease-out forwards}</style></head><body><div class="post-it-container dark-mode" id="post-it-card"><div class="cat-kaomoji corner-text">à¸…(^ãƒ»Ï‰ãƒ»^)à¸…</div><div class="corner-info corner-text">Choose Â· Sth.</div><div class="post-it-collapsible" id="collapsible-content"><div class="content-wrapper"><div id="options-container"></div></div></div></div><div id="raw-options-data" style="display:none">$1</div><script>document.addEventListener('DOMContentLoaded',function(){function e(){const t={card:document.getElementById('post-it-card'),collapsibleContent:document.getElementById('collapsible-content'),optionsContainer:document.getElementById('options-container'),rawData:document.getElementById('raw-options-data')};if(!t.card||!t.rawData||!t.optionsContainer)return void console.error("Post-it card essential elements not found.");o(t.rawData,t.optionsContainer),n(t)}function o(e,t){const o=e.textContent.trim().split(/\r?\n/).filter(e=>""!==e.trim());o.forEach(e=>{const o=e.trim().replace(/^[A-Z]\.\s*/i,"");if(o){const e=document.createElement("div");e.className="clickable-text",e.setAttribute("data-action",o),e.innerHTML=`<li>${o}</li>`,e.addEventListener("click",function(){const e=this.getAttribute("data-action");try{const t=window.parent.document.querySelector("#send_textarea"),o=window.parent.triggerSlash;if(t){const n=t.value+e;o?o(`/setinput ${n}`):(t.value=n,t.dispatchEvent(new Event("input",{bubbles:!0})))}else o&&o(`/setinput ${e}`)}catch(e){console.error("Error setting input text:",e)}}),t.appendChild(e)}})}function n(e){const{card:t,collapsibleContent:o,optionsContainer:n}=e;t.addEventListener("click",e=>{const t=[...n.querySelectorAll(".clickable-text")].some(t=>t&&t.contains(e.target));t||o.classList.toggle("open")})}e()});</script></body></html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 2
    - id: eb0881e8-0875-4a4c-ba06-f3fd36be367c
      script_name: MoMç¾åŒ–-[12]è¶…çº§å–µå–µé€‰æ‹©å™¨è‡ªé€‚é…å¤šé€‰é¡¹@YUKI@KKM
      å¯ç”¨: false
      find_regex: <branches>\s+(?:<details>[\s\S]*?</summary>\s*)?([\s\S]+?)(?:</details>\s*)?</branches>
      replace_string: |-
        ```html
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width,initial-scale=1" />
          <meta name="color-scheme" content="light dark" />
          <title>é€‰é¡¹ç¾åŒ– (CSSå›¾æ ‡åˆ‡æ¢)</title>

          <style>
          /* å­—ä½“ */
          @import url("https://fontsapi.zeoseven.com/7/main/result.css");/* Zhuque Fangsong (technical preview) */
          @import url("https://fontsapi.zeoseven.com/477/main/result.css"); /* TsangerXWZ */

          :root{
            --outer-font: "TsangerXWZ","Microsoft YaHei",sans-serif;
            --container-width: 550px;
            --border-radius: 16px;

            /* æµ…è‰²ä¸»é¢˜ */
            --paper-fallback-color:#faf8f3;
            --text-color:rgba(35,45,60,.86);
            --divider-color:rgba(120,130,140,.12);
            --glow-color:rgba(255,205,120,.55);
            --blend-color:#f4efe6;
            --item-bg:rgba(255,255,255,.48);
            --item-hover-bg:rgba(255,255,255,.7);
            --item-border:rgba(160,165,170,.18);
            --blend-opacity:.11;
            --noise-opacity:.035;
            --fiber-opacity:.06;
            --base-shadow:0 10px 30px rgba(0,0,0,.08),0 5px 15px rgba(0,0,0,.05);
            --hover-shadow:0 15px 40px rgba(100,180,220,.15),0 5px 20px rgba(100,180,220,.1);
            --item-shadow:0 2px 8px rgba(0,0,0,.05);
            --item-hover-shadow:0 6px 20px rgba(0,0,0,.1);
            --transition-speed:.35s;
            --collapse-speed:.6s;
            --theme-change-speed:.8s;
            --easing:cubic-bezier(.4,0,.2,1);
            --paper-bg-image:url('https://i.postimg.cc/DZbjkx5J/meow.png');
          }

          /* æ·±è‰²ä¸»é¢˜ */
          .post-it-container.dark-mode{
            --paper-fallback-color:#1e232a;
            --text-color:rgba(245,240,220,.93);
            --divider-color:rgba(255,255,255,.09);
            --glow-color:rgba(240,210,140,.55);
            --blend-color:#181d23;
            --item-bg:rgba(255,255,255,.06);
            --item-hover-bg:rgba(255,255,255,.12);
            --item-border:rgba(255,255,255,.1);
            --blend-opacity:.24;
            --noise-opacity:.032;
            --fiber-opacity:.07;
            --base-shadow:0 10px 40px rgba(0,0,0,.32),0 5px 20px rgba(0,0,0,.22);
            --hover-shadow:0 15px 50px rgba(240,210,140,.10),0 5px 25px rgba(240,210,140,.06);
            --item-shadow:0 2px 10px rgba(0,0,0,.22);
            --item-hover-shadow:0 6px 25px rgba(100,230,230,.1);
          }

          body{
            display: flex;
            justify-content: center;
            font-family:"Zhuque Fangsong (technical preview)","Microsoft YaHei",sans-serif;
            font-size:1.1em;line-height:1.6;color:var(--text-color);
            transition:color var(--theme-change-speed) ease;
          }

          .post-it-container{
            width:var(--container-width);
            position:relative;margin:16px auto;padding:1em;padding-top:3.5em;
            color:var(--text-color);
            background-color:var(--paper-fallback-color);
            background-image:var(--paper-bg-image);
            background-position: left top;
            background-repeat: repeat;
            background-blend-mode:multiply;
            border-radius:var(--border-radius);box-shadow:var(--base-shadow);
            transition:transform var(--transition-speed) var(--easing),
                       box-shadow var(--transition-speed) var(--easing),
                       background-color var(--theme-change-speed) ease,
                       color var(--theme-change-speed) ease;
            isolation:isolate;overflow:hidden;
          }
          .post-it-container.dark-mode{ background-blend-mode:soft-light; }

          .post-it-container::before,
          .post-it-container::after {
            content:""; position:absolute; inset:0; z-index:1; border-radius:inherit;
            pointer-events:none;
          }
          .post-it-container::before{
            background:
              radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,var(--fiber-opacity)) 0, rgba(0,0,0,0) 70%),
              radial-gradient(90% 120% at 100% 20%, rgba(0,0,0,calc(var(--fiber-opacity) * .7)) 0, rgba(0,0,0,0) 65%),
              linear-gradient(180deg, rgba(255,255,255,0) 0%, var(--blend-color) 100%);
            opacity:var(--blend-opacity);
            transition:background-color var(--theme-change-speed) ease,opacity var(--theme-change-speed) ease;
          }
          .post-it-container::after{
            background-image:
              repeating-linear-gradient(0deg,   rgba(0,0,0,.028) 0 1px, transparent 1px 2px),
              repeating-linear-gradient(90deg,  rgba(0,0,0,.022) 0 1px, transparent 1px 2px);
            opacity:var(--noise-opacity);
          }

          .cat-kaomoji{
            position:absolute; top:20px; left:24px;
            z-index: 2;
            font-family:var(--outer-font);
            font-size:16px; font-weight:600;
            color:var(--text-color); opacity:.92;
            text-shadow:0 1px 2px rgba(255,255,255,.22);
            transition:transform var(--transition-speed) var(--easing),opacity var(--transition-speed) var(--easing);
            pointer-events: none;
          }
          .post-it-container:hover .cat-kaomoji{opacity:1; transform:scale(1.03)}

          .theme-icon{
            position:absolute; top:8px; right:10px;
            z-index: 2;
            font-size:30px; line-height:1;
            padding:6px; background:transparent; border:none; box-shadow:none; backdrop-filter:none;
            color:inherit; cursor:pointer; user-select:none; -webkit-tap-highlight-color:transparent;
            border-radius:8px;
            transition:transform var(--transition-speed) var(--easing), filter var(--transition-speed) var(--easing);
          }
          .theme-icon:hover{ transform:scale(1.06); filter:drop-shadow(0 1px 1px rgba(0,0,0,.2)); }
          .theme-icon:active{ transform:scale(.96); }
          .theme-icon:focus-visible{ outline:2px solid rgba(255,215,0,.55); outline-offset:2px; }

          /* --- æ–°å¢çš„ CSS è§„åˆ™ --- */
          .theme-icon .icon-moon { display: none; }
          .theme-icon .icon-sun { display: inline; }
          .post-it-container.dark-mode .theme-icon .icon-sun { display: none; }
          .post-it-container.dark-mode .theme-icon .icon-moon { display: inline; }
          /* --- æ–°å¢ç»“æŸ --- */

          .post-it-collapsible{
            position: relative;
            z-index: 2;
            display:grid; grid-template-rows:0fr;
            transition:grid-template-rows var(--collapse-speed) var(--easing);
          }

          .post-it-collapsible.open{grid-template-rows:1fr}
          .content-wrapper{overflow:hidden; min-height:0; padding-top:1.2em; border-top:1px solid var(--divider-color); position:relative}
          .content-wrapper::before{
            content:""; position:absolute; top:0; left:50%; transform:translateX(-50%);
            width:50px; height:1px; background:linear-gradient(90deg,transparent,var(--glow-color),transparent); opacity:0; transition:opacity var(--transition-speed) ease;
          }
          .post-it-collapsible.open .content-wrapper::before{opacity:.6}
          .post-it-collapsible.open .content-wrapper{overflow:visible; transition:overflow 0s linear var(--collapse-speed)}
          #options-container{padding:.8em .5em; display:flex; flex-direction:column; gap:.6em}

          .clickable-text{
            cursor:pointer; padding:.85em 1.2em; border-radius:10px;
            background:var(--item-bg); border:1px solid var(--item-border);
            box-shadow:var(--item-shadow); backdrop-filter:blur(5px);
            opacity:0; transform:translateX(-20px); pointer-events:none;
            transition:transform var(--transition-speed) var(--easing),
                       box-shadow var(--transition-speed) var(--easing),
                       background-color var(--transition-speed) var(--easing),
                       border-color var(--transition-speed) var(--easing);
            position:relative; overflow:hidden;
          }
          .clickable-text::before{
            content:""; position:absolute; top:0; left:-100%; width:100%; height:100%;
            background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent); transition:left .6s ease;
            pointer-events:none;
          }
          .clickable-text:hover::before{left:100%}
          .clickable-text::after{
            content:""; position:absolute; left:var(--rx, 50%); top:var(--ry, 50%);
            width:14px; height:14px; border-radius:50%;
            background:radial-gradient(circle, rgba(255,202,120,.42) 0%, rgba(255,202,120,.25) 40%, rgba(255,202,120,0) 70%);
            transform:translate(-50%,-50%) scale(0);
            opacity:0; pointer-events:none;
          }
          .clickable-text.ripple::after{ opacity:1; animation:ripple .7s ease-out forwards; }
          @keyframes ripple{ to{ transform:translate(-50%,-50%) scale(28); opacity:0; } }

          .clickable-text.is-selected{
            background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.6));
            border-color:#ffcf6a;
            box-shadow:0 10px 28px rgba(255,174,0,.26), var(--item-hover-shadow);
            transform:translateX(8px) translateY(-2px) scale(1.015);
          }
          .clickable-text.is-selected li::before{ content:'âœ“'; color:#ffb23e; font-weight:700; }

          .post-it-collapsible.open .clickable-text{opacity:1; transform:translateX(0); pointer-events:auto}
          .post-it-collapsible.open .clickable-text:nth-child(1){transition-delay:.1s}
          .post-it-collapsible.open .clickable-text:nth-child(2){transition-delay:.15s}
          .post-it-collapsible.open .clickable-text:nth-child(3){transition-delay:.2s}
          .post-it-collapsible.open .clickable-text:nth-child(4){transition-delay:.25s}
          .post-it-collapsible.open .clickable-text:nth-child(5){transition-delay:.3s}

          .clickable-text:hover{
            background:var(--item-hover-bg);
            box-shadow:var(--item-hover-shadow);
            transform:translateX(8px) translateY(-2px);
            border-color:var(--glow-color);
          }
          .clickable-text:active{ box-shadow:0 0 0 9999px rgba(0,0,0,.02) inset, var(--item-hover-shadow); }

          .clickable-text li{
            list-style:none; position:relative; padding-left:1.2em;
            font-size:.95em; line-height:1.4;
          }
          .clickable-text li::before{
            content:'â–¸'; position:absolute; left:0; color:var(--glow-color);
            transition:transform var(--transition-speed) ease;
          }
          .clickable-text:hover li::before{ transform:translateX(4px); }

          @media (prefers-reduced-motion:reduce){
            *{animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important}
          }
          </style>
        </head>
        <body>
          <div class="post-it-container" id="post-it-card">
            <div class="cat-kaomoji">à¸…(^ãƒ»Ï‰ãƒ»^)à¸… ç‚¹å‡»é€‰æ‹©</div>
            <!-- HTML ä¿®æ”¹å¤„ -->
            <button id="theme-toggle" class="theme-icon" aria-label="åˆ‡æ¢ä¸»é¢˜" title="åˆ‡æ¢ä¸»é¢˜">
              <span class="icon-sun">â˜€ï¸</span>
              <span class="icon-moon">ğŸŒ™</span>
            </button>
            <div class="post-it-collapsible" id="collapsible-content">
              <div class="content-wrapper">
                <div id="options-container"></div>
              </div>
            </div>
          </div>

          <div id="raw-options-data" style="display:none">$1</div>

          <script>
          document.addEventListener("DOMContentLoaded", function(){
            function init(){
              const refs = { card: document.getElementById("post-it-card"), themeToggle: document.getElementById("theme-toggle"), collapsibleContent: document.getElementById("collapsible-content"), optionsContainer: document.getElementById("options-container"), rawData: document.getElementById("raw-options-data") };
              if(refs.card && refs.rawData && refs.optionsContainer){
                renderOptions(refs.rawData, refs.optionsContainer);
                setupTheme(refs.card, refs.themeToggle);
                bindCollapsible(refs);
              } else { console.error("åˆå§‹åŒ–å¤±è´¥ï¼šç¼ºå°‘å¿…è¦çš„DOMå…ƒç´ ã€‚"); }
            }

            function renderOptions(rawNode, root){
              const lines = rawNode.textContent.trim().split(/\r?\n/).filter(s=>s.trim()!=="");
              lines.forEach((line)=>{
                const text = line.trim().replace(/^[A-Z]\.\s*/i,"");
                if(!text) return;
                const item = document.createElement("div");
                item.className = "clickable-text";
                item.setAttribute("data-action", text);
                item.innerHTML = `<li>${text}</li>`;
                item.addEventListener("click", function(e){
                  e.stopPropagation();
                  const rect = this.getBoundingClientRect();
                  const x = e.clientX - rect.left;
                  const y = e.clientY - rect.top;
                  this.style.setProperty('--rx', x + 'px');
                  this.style.setProperty('--ry', y + 'px');
                  this.classList.remove('ripple'); void this.offsetWidth; this.classList.add('ripple');
                  this.classList.add('is-selected');
                  setTimeout(()=>{ this.classList.remove('is-selected'); }, 700);
                  const payload = this.getAttribute("data-action");
                  try {
                    const t = window.parent.document.querySelector("#send_textarea");
                    const n = window.parent.triggerSlash;
                    if(t){
                      const v = t.value + payload;
                      if(n){ n(`/setinput ${v}`); }
                      else{ t.value = v; t.dispatchEvent(new Event("input",{bubbles:true})); }
                    } else if(n){ n(`/setinput ${payload}`); }
                  } catch(err){ console.error("è®¾ç½®è¾“å…¥æ–‡æœ¬æ—¶å‡ºé”™:", err); }
                });
                root.appendChild(item);
              });
            }

            // --- JavaScript ä¿®æ”¹å¤„ ---
            function setupTheme(card, btn){
              const applyTheme = (mode) => {
                card.classList.toggle("dark-mode", mode === "dark");
                localStorage.setItem("postItTheme", mode);
              };

              btn.addEventListener("click", (e)=>{
                e.stopPropagation();
                const nextTheme = card.classList.contains("dark-mode") ? "light" : "dark";
                applyTheme(nextTheme);
              });

              const savedTheme = localStorage.getItem("postItTheme") || "light";
              applyTheme(savedTheme);
            }
            // --- ä¿®æ”¹ç»“æŸ ---

            function bindCollapsible(refs){
              const { card, collapsibleContent, themeToggle, optionsContainer } = refs;
              card.addEventListener("click", e => {
                const exceptedElements = [themeToggle, ...optionsContainer.querySelectorAll(".clickable-text")];
                const isClickOnException = exceptedElements.some(el => el && el.contains(e.target));
                if(!isClickOnException){ collapsibleContent.classList.toggle("open"); }
              });
            }
            init();
          });
          </script>
        </body>
        </html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 2
    - id: 72432864-0f49-40ed-9b3d-332ae29a90e9
      script_name: MoMç¾åŒ–-[13]è§’è‰²è¡¨ç¾åŒ–@YUKIï¼ˆ1116ï¼‰
      å¯ç”¨: false
      find_regex: /<profile>\s*([\s\S]*?)</[^>]*>/i
      replace_string: " <details style=\"display: flex;flex-direction: column; width:
        95%; margin: 0 auto;\">

        <summary style=\"list-style: none; text-align: center;margin: 10px 0
        10px 0;\"><span style=\"cursor: pointer; padding:5px 10px 5px 10px;
        font-size: 1.0em;border:1.5px solid color-mix(in srgb, #898989
        20%,var(--ac-style-color-selectedText)
        30%);border-radius:8px;background-color: color-mix(in srgb, #898989 20%,
        var(--SmartThemeUnderlineColor) 10%);color:
        var(--ac-style-color-matchedText); box-shadow: 0 0 6px 2px rgba(0, 0, 0,
        0.15);\">â€” ğŸProfile â€”</span></summary>

        <div markdown=\"1\" style=\"padding: 10px;border:1px dashed
        rgba(205,205,205,.2);border-radius:2px;-webkit-overflow-scrolling:
        touch;\"><center>


        $1


        </center></div>

        </details>

        \ "
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: null
    - id: 1dc2c792-c684-44e9-ace9-845ef2026956
      script_name: MoMç¾åŒ–-[14]çº¯æ–‡å­—å‰§åœºç¾åŒ–ï¼ˆ1117ï¼‰@ç”µæ³¢ç³»
      å¯ç”¨: true
      find_regex: /<ccd>\s+([\s\S]*?)</ccd>/gi
      replace_string: |-
        ```html
        <!DOCTYPE html>
        <html lang="zh-CN">
        <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ä»¿ Apple å¤‡å¿˜å½•æ ·å¼ (é€»è¾‘ä¿®å¤ç‰ˆ)</title>
        <style>
            /* å…¨å±€æ ·å¼ */
            body {
                display: flex; justify-content: center; align-items: flex-start;
                margin: 0; padding: 10px; box-sizing: border-box;
                font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
            }
            /* çª—å£æ ·å¼ */
            .window {
                width: 650px; max-width: 95%; background-color: #ffffff;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.05);
                border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; color: #1d1d1f;
            }
            .title-bar {
                display: flex; align-items: center; padding: 12px 18px; background-color: #fbfbfb;
                border-bottom: 1px solid #e5e5e5; flex-shrink: 0;
            }
            .buttons { display: flex; gap: 8px; }
            .dot { width: 12px; height: 12px; border-radius: 50%; }
            .dot-red { background-color: #ff5f57; border: 1px solid #e0443e; }
            .dot-yellow { background-color: #febc2e; border: 1px solid #dfa123; }
            .dot-green { background-color: #28c840; border: 1px solid #1aab29; }
            .toolbar-title { margin-left: auto; margin-right: auto; color: #86868b; font-size: 12px; font-weight: 500; padding-right: 50px; }

            /* å†…å®¹åŒºåŸŸ */
            .content {
                padding: 10px 50px 10px; font-size: 15px; line-height: 1.7;
                font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            }

            /* --- åŠ¨ç”» --- */
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(15px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .line-wrapper {
                opacity: 0;
            }
            .line-wrapper.animate-in {
                animation: fadeInUp 0.5s ease-out forwards;
            }

            .content strong { font-weight: 600; color: #000; }
            .content s { text-decoration: line-through; color: #86868b; }
            .content em { font-style: italic; color: #4a4949; }
            .content .highlight { font-weight: 500; }

            .content code {
                background-color: #f3f4f6; color: #4b5563; padding: 2px 6px;
                border-radius: 4px; font-family: "SF Mono", Menlo, Monaco, Consolas, "Courier New", monospace;
                font-size: 0.9em;
            }

            .content .quote-center {
                text-align: center; background-color: #f0f0f0a0; padding: 15px 20px;
                margin: 10px 0; border-radius: 8px; color: #555; border: 1px solid #eee;
            }

            .content .quote-block {
                text-align: left;
                padding: 8px 15px;
                border-left: 3px solid #d1d5db; color: #4b5563;
                padding-left: calc(15px + var(--nest-level, 0) * 20px);
            }

            .content h1, .content h2, .content h3 {
                margin: 10px 0 10px 0; padding-bottom: 5px; line-height: 1.5; font-weight: 600;
                color: #000000; border-bottom: 1px solid #f0f0f0;
            }
            .content h1 { font-size: 1.3em; text-align: center;}
            .content h2 { font-size: 1.2em; }
            .content h3 { font-size: 1.1em; }

            .content .highlight-block {
                text-align: left; background-color: #fff0fb; padding: 15px 20px;
                margin: 10px 0; border-radius: 8px; color: #75435f;
                border-left: 4px solid #e774b2;
            }

            .content ul {
                list-style: none;
                padding-left: 20px;
                margin: 10px 0;
            }
            .content li {
                position: relative;
                padding-left: 10px;
            }
            .content li::before {
                content: 'â€¢';
                color: #3b82f6;
                font-weight: bold;
                position: absolute;
                left: -15px;
            }

            .content table {
                width: 100%;
                border-collapse: collapse;
                margin: 20px 0;
                font-size: 0.95em;
            }
            .content th, .content td {
                padding: 10px 12px;
                text-align: left;
            }
            .content th {
                font-weight: 600;
                border-bottom: 1px solid #e5e7eb;
            }
            .content tbody tr:nth-child(even) {
                background-color: #f9fafb;
            }

            .content hr {
                border: none; border-top: 1px solid #e5e7eb; margin: 25px 0;
            }

            .content .empty-line { height: 20px; }

            @media (max-width: 420px) {
                .content { padding: 10px 30px 10px; font-size: 14px; }
            }
        </style>
        </head>
        <body>

        <div class="window">
            <div class="title-bar">
                <div class="buttons">
                    <span class="dot dot-red"></span>
                    <span class="dot dot-yellow"></span>
                    <span class="dot dot-green"></span>
                </div>
                <span class="toolbar-title" id="current-time"></span>
            </div>

            <div id="raw-data" style="display:none;">
        <start>
        $1
        </end>
            </div>

            <div class="content" id="animated-content"></div>
        </div>

        <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Setup ---
            const animatedContent = document.getElementById('animated-content');
            const now = new Date();
            document.getElementById('current-time').textContent = `ç¼–è¾‘äº ä»Šå¤© ${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;
            const highlightColors = ['#FF3B30', '#FF9500', '#007AFF', '#5856D6', '#5AC8FA', '#FF2D55'];

            // --- Inline Parsing Functions ---
            const applyCode = (t) => t.replace(/`(.*?)`/g, (m, c) => `<code>${c}</code>`);
            const applyBold = (t) => t.replace(/\*\*(.*?)\*\*/g, (m, c) => `<strong>${c}</strong>`);
            const applyStrikethrough = (t) => t.replace(/\~\~(.*?)\~\~|<del>(.*?)<\/del>/g, (m, c1, c2) => `<s>${c1 || c2}</s>`);
            const applyItalic = (t) => t.replace(/\*(.*?)\*/g, (m, c) => `<em>${c}</em>`);
            const applyHighlight = (t) => t.replace(/(\[.*?\]|\(.*?\)|".*?"|â€œ.*?â€)/g, (m) => {
                const randomColor = highlightColors[Math.floor(Math.random() * highlightColors.length)];
                return `<span class="highlight" style="color: ${randomColor};">${m}</span>`;
            });

            function parseInlineMarkdown(text) {
                return applyHighlight(applyItalic(applyStrikethrough(applyBold(applyCode(text)))));
            }

            // --- Main Recursive Parser ---
            function parseContent(lines) {
                const htmlChunks = [];
                let i = 0;

                const isTableSeparator = (line) => /^\|(?:\s*:?-+:?\s*\|)+$/.test(line);

                while (i < lines.length) {
                    const trimmedLine = lines[i].trim();

                    if (i + 1 < lines.length && isTableSeparator(lines[i + 1].trim())) {
                        // ... (table parsing logic remains the same)
                         const tableData = { headers: [], alignments: [], rows: [] };
                        tableData.alignments = lines[i + 1].trim().split('|').slice(1, -1).map(s => {
                            const align = s.trim();
                            if (align.startsWith(':') && align.endsWith(':')) return 'center';
                            if (align.endsWith(':')) return 'right';
                            return 'left';
                        });
                        tableData.headers = lines[i].trim().split('|').slice(1, -1).map(s => s.trim());
                        let rowIndex = i + 2;
                        while (rowIndex < lines.length && lines[rowIndex].trim().startsWith('|')) {
                            tableData.rows.push(lines[rowIndex].trim().split('|').slice(1, -1).map(s => s.trim()));
                            rowIndex++;
                        }
                        let tableHTML = '<table><thead><tr>';
                        tableData.headers.forEach((h, idx) => { tableHTML += `<th style="text-align: ${tableData.alignments[idx]};">${parseInlineMarkdown(h)}</th>`; });
                        tableHTML += '</tr></thead><tbody>';
                        tableData.rows.forEach(r => {
                            tableHTML += '<tr>';
                            r.forEach((c, idx) => { tableHTML += `<td style="text-align: ${tableData.alignments[idx]};">${parseInlineMarkdown(c)}</td>`; });
                            tableHTML += '</tr>';
                        });
                        tableHTML += '</tbody></table>';
                        htmlChunks.push(tableHTML);
                        i = rowIndex;

                    } else if (trimmedLine.startsWith('>')) {
                        const quoteGroup = [];
                        let currentIndex = i;
                        while (currentIndex < lines.length && lines[currentIndex].trim().startsWith('>')) {
                            quoteGroup.push(lines[currentIndex].trim());
                            currentIndex++;
                        }

                        // Recursive step: strip one level of '>' and parse the inner content
                        const nestedLines = quoteGroup.map(line => line.substring(line.indexOf('>') + 1));
                        const innerHtml = parseContent(nestedLines).join(''); // Get parsed inner content

                        htmlChunks.push(`<div class="quote-center">${innerHtml}</div>`);
                        i = currentIndex;

                    } else if (trimmedLine.startsWith('||')) {
                        const blockLines = [];
                        let currentIndex = i;
                        while (currentIndex < lines.length && lines[currentIndex].trim().startsWith('||')) {
                            blockLines.push(lines[currentIndex].trim().substring(2));
                            currentIndex++;
                        }
                        htmlChunks.push(`<div class="highlight-block">${blockLines.map(parseInlineMarkdown).join('<br>')}</div>`);
                        i = currentIndex;

                    } else if (trimmedLine.startsWith('* ')) {
                        const listItems = [];
                        let currentIndex = i;
                        while (currentIndex < lines.length && lines[currentIndex].trim().startsWith('* ')) {
                            listItems.push(lines[currentIndex].trim().substring(2));
                            currentIndex++;
                        }
                        htmlChunks.push(`<ul>${listItems.map(item => `<li>${parseInlineMarkdown(item)}</li>`).join('')}</ul>`);
                        i = currentIndex;

                    } else if (/^---+\s*$/.test(trimmedLine)) {
                        htmlChunks.push('<hr>');
                        i++;

                    } else {
                        if (trimmedLine === '') {
                            htmlChunks.push('<div class="empty-line"></div>');
                        } else {
                            const headingMatch = trimmedLine.match(/^(\#{1,3})\s(.*)/);
                            if (headingMatch) {
                                const level = headingMatch[1].length;
                                const content = headingMatch[2];
                                const randomColor = highlightColors[Math.floor(Math.random() * highlightColors.length)];
                                htmlChunks.push(`<h${level} style="color: ${randomColor};">${parseInlineMarkdown(content)}</h${level}>`);
                            } else {
                                htmlChunks.push(`<div>${parseInlineMarkdown(trimmedLine)}</div>`);
                            }
                        }
                        i++;
                    }
                }
                return htmlChunks;
            }

            // --- Initial Call ---
            let rawContent = '';
            const rawText = document.getElementById('raw-data').textContent;
            const startEndMatch = rawText.match(/<start>([\s\S]*?)<end>/);
            rawContent = (startEndMatch && startEndMatch[1]) ? startEndMatch[1].trim() : rawText;

            const initialLines = rawContent.split('\n');
            const finalHtmlBlocks = parseContent(initialLines);

            // --- Animate Final Blocks ---
            finalHtmlBlocks.forEach((htmlBlock, index) => {
                const wrapper = document.createElement('div');
                wrapper.className = 'line-wrapper';
                wrapper.innerHTML = htmlBlock;
                animatedContent.appendChild(wrapper);

                setTimeout(() => {
                    wrapper.classList.add('animate-in');
                }, index * 100);
            });
        });
        </script>
        </body>
        </html>
        ```
      source:
        user_input: false
        ai_output: true
        slash_command: false
        world_info: false
      destination:
        display: true
        prompt: false
      run_on_edit: true
      min_depth: null
      max_depth: 10
